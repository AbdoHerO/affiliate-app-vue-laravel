import{d as R,k as q,u as E,aL as j,b8 as z,r as L,V as A,o as H,c as d,b as r,e,h as u,m,g as s,f as o,v as a,ac as g,t as n,aU as U,F as S,j as I}from"./main-BW7J9dbc.js";import{u as G}from"./produits-SzhtFirk.js";import{_ as J}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-D-su4oyA.js";import{a as _,V as b}from"./VRow-CGHQgNV4.js";import{V as p}from"./VCardText-CXwuP4rm.js";import{V as c,b as h}from"./VCard-BBEboEsQ.js";import{V as f}from"./VDivider-C4kHsR9g.js";import{V as k}from"./VChip-Dc9HlRo1.js";import{V as K}from"./VImg-NyJdDnCF.js";import{V as O}from"./VDataTable-Cjf3VvYQ.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useApi-C5OI9_Dc.js";import"./VBreadcrumbs-CSfprZFP.js";/* empty css              */import"./createSimpleFunctional-468wPgla.js";import"./VAvatar-CBx3oh99.js";import"./VPagination-D6oKxvR6.js";import"./VSelect-BbnjVQGu.js";import"./VTextField-DCEu5f_P.js";import"./VField-ECDxRtcR.js";import"./forwardRefs-t39oHzh6.js";import"./VList-BrmO1UK3.js";import"./ssrBoot-DTcmQToe.js";import"./dialog-transition-C3MiiA6M.js";import"./VMenu-DTZ6uDZD.js";import"./VOverlay-CpnKYLAB.js";import"./lazy-CTr8uHza.js";import"./VCheckboxBtn-BRmrHq-R.js";import"./VTable-CglbVig3.js";import"./filter-BV1I079x.js";const W={class:"d-flex align-center justify-space-between"},X={class:"text-h4 font-weight-bold mb-2"},Y={class:"text-body-1 text-medium-emphasis"},Z={class:"d-flex gap-2"},tt={class:"mt-4"},et={key:1},st={class:"mb-4"},at={class:"text-h6 mb-2"},ot={class:"text-body-1"},it={class:"mb-4"},lt={class:"text-h6 mb-2"},rt={class:"text-body-1 text-medium-emphasis"},nt={class:"mb-4"},dt={class:"text-h6 mb-2"},ut={key:1,class:"text-medium-emphasis"},ct={class:"mb-4"},mt={class:"text-h6 mb-2"},_t={key:1,class:"text-medium-emphasis"},pt={class:"mb-4"},ht={class:"text-h6 mb-2"},ft={class:"mb-4"},vt={class:"text-h6 mb-2"},bt={class:"text-body-1"},yt={key:0,class:"mt-4"},gt={class:"text-h6 mb-2"},kt={class:"text-body-1"},$t={key:1,class:"mt-4"},xt={class:"text-h6 mb-2"},Vt=["innerHTML"],wt={class:"mb-4"},Ct={key:0,class:"text-h6 mb-2"},Tt=["href"],Dt={class:"mb-4"},Bt={class:"text-h6 mb-2"},Lt={class:"text-h5 font-weight-bold"},St={class:"mb-4"},It={class:"text-h6 mb-2"},Mt={class:"text-h5 font-weight-bold text-primary"},Nt={class:"mb-4"},Pt={class:"text-h6 mb-2"},Ft={class:"text-h5 font-weight-bold text-success"},Rt=R({__name:"index",setup(qt){const $=q(),M=E(),{t:v}=j(),V=G(),{loading:Et,error:jt}=z(V),x=L(!0),i=L(null),w=M.params.id,N=A(()=>{var t;return[{title:v("title_admin_dashboard"),to:"/admin"},{title:v("admin_produits_title"),to:"/admin/produits"},{title:((t=i.value)==null?void 0:t.titre)||v("admin_produits_show"),active:!0}]}),P=async()=>{try{x.value=!0,i.value=await V.fetchProduit(w)}catch(t){console.error("Error loading product:",t),$.push({name:"admin-produits"})}finally{x.value=!1}},C=()=>{$.push({name:"admin-produits"})},T=()=>{$.push({name:"admin-produits-id-edit",params:{id:w}})},y=t=>t?new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD",minimumFractionDigits:2}).format(t):"-",D=t=>t?"success":"error",B=t=>v(t?"common.active":"common.inactive"),F=t=>t?t.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").trim():"";return H(async()=>{await P()}),(t,zt)=>(r(),d("div",null,[e(J,{items:N.value},null,8,["items"]),e(b,{class:"mb-6"},{default:s(()=>[e(_,{cols:"12"},{default:s(()=>{var l;return[o("div",W,[o("div",null,[o("h1",X,a(((l=i.value)==null?void 0:l.titre)||t.$t("admin_produits_show")),1),o("p",Y,a(t.$t("admin_produits_show_subtitle")),1)]),o("div",Z,[e(g,{variant:"outlined","prepend-icon":"tabler-arrow-left",onClick:C},{default:s(()=>[n(a(t.$t("common.back")),1)]),_:1}),e(g,{color:"primary","prepend-icon":"tabler-edit",onClick:T},{default:s(()=>[n(a(t.$t("common.edit")),1)]),_:1})])])]}),_:1})]),_:1}),x.value?(r(),u(c,{key:0},{default:s(()=>[e(p,{class:"text-center py-8"},{default:s(()=>[e(U,{indeterminate:"",color:"primary"}),o("p",tt,a(t.$t("common.loading")),1)]),_:1})]),_:1})):i.value?(r(),d("div",et,[e(b,null,{default:s(()=>[e(_,{cols:"12",md:"8"},{default:s(()=>[e(c,{class:"mb-6"},{default:s(()=>[e(h,null,{default:s(()=>[n(a(t.$t("admin_produits_basic_info")),1)]),_:1}),e(f),e(p,null,{default:s(()=>[e(b,null,{default:s(()=>[e(_,{cols:"12",md:"6"},{default:s(()=>[o("div",st,[o("h6",at,a(t.$t("admin_produits_titre")),1),o("p",ot,a(i.value.titre),1)]),o("div",it,[o("h6",lt,a(t.$t("admin_produits_slug")),1),o("p",rt,a(i.value.slug),1)]),o("div",nt,[o("h6",dt,a(t.$t("admin_produits_boutique")),1),i.value.boutique?(r(),u(k,{key:0,color:"primary",variant:"tonal"},{default:s(()=>[n(a(i.value.boutique.nom),1)]),_:1})):(r(),d("span",ut,"-"))])]),_:1}),e(_,{cols:"12",md:"6"},{default:s(()=>[o("div",ct,[o("h6",mt,a(t.$t("admin_produits_categorie")),1),i.value.categorie?(r(),u(k,{key:0,color:"secondary",variant:"tonal"},{default:s(()=>[n(a(i.value.categorie.nom),1)]),_:1})):(r(),d("span",_t,"-"))]),o("div",pt,[o("h6",ht,a(t.$t("common.status")),1),e(k,{color:D(i.value.actif),size:"small"},{default:s(()=>[n(a(B(i.value.actif)),1)]),_:1},8,["color"])]),o("div",ft,[o("h6",vt,a(t.$t("common.created_at")),1),o("p",bt,a(new Date(i.value.created_at).toLocaleDateString()),1)])]),_:1})]),_:1}),i.value.description?(r(),d("div",yt,[o("h6",gt,a(t.$t("admin_produits_description")),1),o("p",kt,a(i.value.description),1)])):m("",!0),i.value.copywriting?(r(),d("div",$t,[o("h6",xt,a(t.$t("copywriting_marketing_content")),1),e(c,{variant:"outlined",class:"pa-3 bg-grey-lighten-5"},{default:s(()=>[o("div",{class:"text-body-1 copywriting-content",innerHTML:F(i.value.copywriting)},null,8,Vt)]),_:1})])):m("",!0)]),_:1})]),_:1}),i.value.images&&i.value.images.length>0?(r(),u(c,{key:0,class:"mb-6"},{default:s(()=>[e(h,null,{default:s(()=>[n(a(t.$t("admin_produits_images")),1)]),_:1}),e(f),e(p,null,{default:s(()=>[e(b,null,{default:s(()=>[(r(!0),d(S,null,I(i.value.images,l=>(r(),u(_,{key:l.id,cols:"6",md:"4",lg:"3"},{default:s(()=>[e(K,{src:l.url,alt:l.alt_text||i.value.titre,"aspect-ratio":"1",cover:"",class:"rounded"},null,8,["src","alt"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):m("",!0),i.value.videos&&i.value.videos.length>0?(r(),u(c,{key:1,class:"mb-6"},{default:s(()=>[e(h,null,{default:s(()=>[n(a(t.$t("admin_produits_videos")),1)]),_:1}),e(f),e(p,null,{default:s(()=>[e(b,null,{default:s(()=>[(r(!0),d(S,null,I(i.value.videos,l=>(r(),u(_,{key:l.id,cols:"12",md:"6"},{default:s(()=>[o("div",wt,[l.titre?(r(),d("h6",Ct,a(l.titre),1)):m("",!0),o("a",{href:l.url,target:"_blank",class:"text-primary"},a(l.url),9,Tt)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):m("",!0),i.value.variantes&&i.value.variantes.length>0?(r(),u(c,{key:2},{default:s(()=>[e(h,null,{default:s(()=>[n(a(t.$t("admin_produits_variantes")),1)]),_:1}),e(f),e(p,null,{default:s(()=>[e(O,{headers:[{title:t.$t("admin_produits_variante_nom"),key:"nom"},{title:t.$t("admin_produits_variante_valeur"),key:"valeur"},{title:t.$t("admin_produits_prix_vente"),key:"prix_vente_variante"},{title:t.$t("common.status"),key:"actif"}],items:i.value.variantes,"no-data-text":t.$t("common_no_data")},{"item.prix_vente_variante":s(({item:l})=>[n(a(y(l.prix_vente_variante)),1)]),"item.actif":s(({item:l})=>[e(k,{color:D(l.actif),size:"small"},{default:s(()=>[n(a(B(l.actif)),1)]),_:2},1032,["color"])]),_:1},8,["headers","items","no-data-text"])]),_:1})]),_:1})):m("",!0)]),_:1}),e(_,{cols:"12",md:"4"},{default:s(()=>[e(c,{class:"mb-6"},{default:s(()=>[e(h,null,{default:s(()=>[n(a(t.$t("admin_produits_pricing")),1)]),_:1}),e(f),e(p,null,{default:s(()=>[o("div",Dt,[o("h6",Bt,a(t.$t("admin_produits_prix_achat")),1),o("p",Lt,a(y(i.value.prix_achat)),1)]),o("div",St,[o("h6",It,a(t.$t("admin_produits_prix_vente")),1),o("p",Mt,a(y(i.value.prix_vente)),1)]),o("div",Nt,[o("h6",Pt,a(t.$t("admin_produits_prix_affilie")),1),o("p",Ft,a(y(i.value.prix_affilie)),1)])]),_:1})]),_:1}),e(c,null,{default:s(()=>[e(h,null,{default:s(()=>[n(a(t.$t("common.actions")),1)]),_:1}),e(f),e(p,null,{default:s(()=>[e(g,{color:"primary",variant:"outlined",block:"",class:"mb-3",onClick:T},{default:s(()=>[n(a(t.$t("common.edit")),1)]),_:1}),e(g,{color:"secondary",variant:"outlined",block:"",onClick:C},{default:s(()=>[n(a(t.$t("common.back_to_list")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):m("",!0)]))}}),be=Q(Rt,[["__scopeId","data-v-d3968cdb"]]);export{be as default};
