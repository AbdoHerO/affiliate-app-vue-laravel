import{d as B,aL as D,r as V,D as A,c as d,e,g as m,b as n,t as s,m as a,f as i,ac as k,b5 as I,u as R,j,o as l,s as u,az as g,aV as z,l as p}from"./main-uLG9IIeX.js";import{V as f}from"./VCard-CB1gT6RB.js";import{V as h}from"./VCardText-BZtszuIK.js";import{V as L,a as C}from"./VRow-aGfXYx3U.js";import"./createSimpleFunctional-DugzUcbB.js";import"./VAvatar-bHPDEsYY.js";import"./VImg-BS6_svHJ.js";/* empty css              */const S={class:"d-flex justify-space-between align-center mb-6"},T={class:"text-h4 mb-1"},E={class:"text-body-1 mb-0"},F={class:"mt-4 mb-0"},M={class:"text-h6 mb-4"},P={class:"mb-4"},$={class:"text-sm text-medium-emphasis"},q={class:"text-body-1 mb-0"},G={class:"mb-4"},H={class:"text-sm text-medium-emphasis"},J={class:"text-h6 mb-0 text-primary"},K={class:"mb-4"},O={class:"text-sm text-medium-emphasis"},Q={class:"text-body-1 mb-0"},U={class:"mb-4"},W={class:"text-sm text-medium-emphasis"},X={class:"text-body-1 mb-0"},Y={class:"text-h6 mb-4"},Z={key:0,class:"mb-4"},ee={class:"text-sm text-medium-emphasis"},se={class:"text-body-1 mb-0"},te={key:1,class:"mb-4"},ae={class:"text-sm text-medium-emphasis"},oe={class:"text-body-1 mb-0"},ie={key:2,class:"mb-4"},ne={class:"text-sm text-medium-emphasis"},ce={class:"text-body-1 mb-0"},le={class:"text-h6 mb-2"},de={class:"text-body-1 mb-4"},ve=B({__name:"[id]",setup(re){const{t}=D(),w=R(),b=j(),r=V(!1),o=V(null),N=async()=>{var _;r.value=!0;try{const c=await I.get(`/admin/referrals/dispensations/${w.params.id}`);c.data.success&&(o.value=c.data.data)}catch(c){console.error("Failed to fetch dispensation:",c),((_=c.response)==null?void 0:_.status)===404&&b.push({name:"admin-referrals-dispensations"})}finally{r.value=!1}},x=()=>{b.push({name:"admin-referrals-dispensations"})};return A(()=>{N()}),(_,c)=>(l(),d("div",null,[e("div",S,[e("div",null,[e("h4",T,s(a(t)("dispensation_details")),1),e("p",E,s(a(t)("view_dispensation_details")),1)]),n(k,{variant:"outlined",onClick:x},{default:i(()=>[n(g,{start:"",icon:"tabler-arrow-left"}),u(" "+s(a(t)("back")),1)]),_:1})]),r.value?(l(),m(f,{key:0},{default:i(()=>[n(h,{class:"text-center py-8"},{default:i(()=>[n(z,{indeterminate:""}),e("p",F,s(a(t)("loading"))+"...",1)]),_:1})]),_:1})):o.value?(l(),m(f,{key:1},{default:i(()=>[n(h,null,{default:i(()=>[n(L,null,{default:i(()=>[n(C,{cols:"12",md:"6"},{default:i(()=>[e("h6",M,s(a(t)("dispensation_information")),1),e("div",P,[e("span",$,s(a(t)("reference"))+":",1),e("p",q,s(o.value.reference),1)]),e("div",G,[e("span",H,s(a(t)("points"))+":",1),e("p",J,s(o.value.points),1)]),e("div",K,[e("span",O,s(a(t)("comment"))+":",1),e("p",Q,s(o.value.comment),1)]),e("div",U,[e("span",W,s(a(t)("created_at"))+":",1),e("p",X,s(new Date(o.value.created_at).toLocaleString()),1)])]),_:1}),n(C,{cols:"12",md:"6"},{default:i(()=>{var v,y;return[e("h6",Y,s(a(t)("affiliate_information")),1),o.value.referrer_affiliate?(l(),d("div",Z,[e("span",ee,s(a(t)("affiliate_name"))+":",1),e("p",se,s(((v=o.value.referrer_affiliate.utilisateur)==null?void 0:v.nom_complet)||"N/A"),1)])):p("",!0),o.value.referrer_affiliate?(l(),d("div",te,[e("span",ae,s(a(t)("affiliate_email"))+":",1),e("p",oe,s(((y=o.value.referrer_affiliate.utilisateur)==null?void 0:y.email)||"N/A"),1)])):p("",!0),o.value.created_by_admin?(l(),d("div",ie,[e("span",ne,s(a(t)("created_by"))+":",1),e("p",ce,s(o.value.created_by_admin.nom_complet||"N/A"),1)])):p("",!0)]}),_:1})]),_:1})]),_:1})]),_:1})):(l(),m(f,{key:2},{default:i(()=>[n(h,{class:"text-center py-8"},{default:i(()=>[n(g,{size:"64",color:"error",class:"mb-4"},{default:i(()=>c[0]||(c[0]=[u("tabler-alert-circle")])),_:1,__:[0]}),e("h6",le,s(a(t)("dispensation_not_found")),1),e("p",de,s(a(t)("dispensation_not_found_message")),1),n(k,{onClick:x},{default:i(()=>[u(s(a(t)("back_to_dispensations")),1)]),_:1})]),_:1})]),_:1}))]))}});export{ve as default};
