import{d as w,r as c,c as u,o as d,b as o,f as s,s as n,e as p,g as C,l as k,ac as l,F as V,i as N,t as $,b5 as F}from"./main-uLG9IIeX.js";import{$ as b}from"./api-DSi3Suj8.js";import{u as B}from"./useApi-Bt_X5NBj.js";import"./useNotifications-DDBS_wPD.js";import{b as f,V as g}from"./VCard-CB1gT6RB.js";import{V as m}from"./VCardText-BZtszuIK.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D-EbNoF1.js";import"./createSimpleFunctional-DugzUcbB.js";import"./VAvatar-bHPDEsYY.js";import"./VImg-BS6_svHJ.js";const I={class:"pa-6"},L={class:"d-flex flex-wrap gap-3 mb-4"},D=w({__name:"test-401",setup(E){const a=c(!1),i=c([]),t=r=>{i.value.push(`${new Date().toLocaleTimeString()}: ${r}`)},h=async()=>{a.value=!0,t("Testing Axios 401 handling...");try{await F.get("/test-401-endpoint"),t("❌ Axios: No error thrown")}catch{t("✅ Axios: 401 error caught and handled")}finally{a.value=!1}},_=async()=>{a.value=!0,t("Testing $api 401 handling...");try{await b("/test-401-endpoint"),t("❌ $api: No error thrown")}catch{t("✅ $api: 401 error caught and handled")}finally{a.value=!1}},v=async()=>{a.value=!0,t("Testing useApi 401 handling...");try{const{data:r,error:e}=await B("/test-401-endpoint").json();e.value?t("✅ useApi: 401 error caught and handled"):t("❌ useApi: No error thrown")}catch{t("✅ useApi: 401 error caught and handled")}finally{a.value=!1}},y=async()=>{a.value=!0,t("Testing fetch 401 handling...");try{(await fetch("/api/test-401-endpoint",{headers:{Authorization:"Bearer invalid-token"}})).status===401?t("✅ Fetch: 401 response detected"):t("❌ Fetch: No 401 response")}catch{t("✅ Fetch: 401 error caught and handled")}finally{a.value=!1}},x=()=>{i.value=[]};return(r,e)=>(d(),u("div",I,[o(g,null,{default:s(()=>[o(f,null,{default:s(()=>e[0]||(e[0]=[n(" 🧪 Test 401 Authentication Handling ")])),_:1,__:[0]}),o(m,null,{default:s(()=>[e[7]||(e[7]=p("p",{class:"mb-4"}," This page tests the 401 authentication handling across different API clients. Each test should automatically logout and redirect to login when a 401 error occurs. ",-1)),p("div",L,[o(l,{color:"primary",loading:a.value,onClick:h},{default:s(()=>e[1]||(e[1]=[n(" Test Axios 401 ")])),_:1,__:[1]},8,["loading"]),o(l,{color:"secondary",loading:a.value,onClick:_},{default:s(()=>e[2]||(e[2]=[n(" Test $api 401 ")])),_:1,__:[2]},8,["loading"]),o(l,{color:"info",loading:a.value,onClick:v},{default:s(()=>e[3]||(e[3]=[n(" Test useApi 401 ")])),_:1,__:[3]},8,["loading"]),o(l,{color:"warning",loading:a.value,onClick:y},{default:s(()=>e[4]||(e[4]=[n(" Test Fetch 401 ")])),_:1,__:[4]},8,["loading"]),o(l,{color:"error",variant:"outlined",onClick:x},{default:s(()=>e[5]||(e[5]=[n(" Clear Results ")])),_:1,__:[5]})]),i.value.length>0?(d(),C(g,{key:0,variant:"outlined"},{default:s(()=>[o(f,{class:"text-h6"},{default:s(()=>e[6]||(e[6]=[n(" Test Results ")])),_:1,__:[6]}),o(m,null,{default:s(()=>[(d(!0),u(V,null,N(i.value,(A,T)=>(d(),u("div",{key:T,class:"mb-1 font-mono text-sm"},$(A),1))),128))]),_:1})]),_:1})):k("",!0)]),_:1,__:[7]})]),_:1})]))}}),O=R(D,[["__scopeId","data-v-39766fce"]]);export{O as default};
