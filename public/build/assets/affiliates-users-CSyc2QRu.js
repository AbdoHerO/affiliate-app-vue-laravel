import{d as Ee,aL as $e,r as y,w as oe,o as Pe,c as q,b as w,f as r,e as a,v as n,n as e,g as u,t as m,ac as k,aP as Fe,h as J,m as Q,F as je,j as Ae,az as x,aU as Be,aW as se}from"./main-BW7J9dbc.js";import{u as Le}from"./useAuth-CSUeXPIW.js";import{u as Ne}from"./useNotifications-C-RqLAHj.js";import{useQuickConfirm as Re}from"./useConfirmAction-C1AhwA5O.js";import{C as Ie}from"./ConfirmActionDialog-DUQAUWcx.js";import{u as R}from"./useApi-C5OI9_Dc.js";import{u as Me}from"./useFormErrors-MYnRKlKU.js";import{P as re}from"./ProfileImageUpload-CzeuhK81.js";import{g as ue}from"./imageUtils-BBj2mArv.js";import{u as Oe,S as Je}from"./SoftDeleteActions-D-IvYhGv.js";import{S as Qe}from"./SoftDeleteFilter-B-xMAU3a.js";import{V as F}from"./VCardText-CXwuP4rm.js";import{V as I,a as v}from"./VRow-CGHQgNV4.js";import{V as f}from"./VTextField-DCEu5f_P.js";import{V as U}from"./VSelect-BbnjVQGu.js";import{V as j,c as M,b as W}from"./VCard-BBEboEsQ.js";import{V as We}from"./VTable-CglbVig3.js";import{V as ne}from"./VAvatar-CBx3oh99.js";import{V as ie}from"./VImg-NyJdDnCF.js";import{V as C}from"./VChip-Dc9HlRo1.js";import{V as A}from"./VSpacer-BxZvfEPo.js";import{V as Ge}from"./VPagination-D6oKxvR6.js";import{V as de}from"./VForm-CCkDJA8t.js";import{V as me}from"./VTextarea-Wxm7h69M.js";import{V as G}from"./VDialog-BYRvlSU6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ActionIcon-lhNXk9f5.js";import"./VTooltip-DmGX3M8u.js";import"./VOverlay-CpnKYLAB.js";import"./forwardRefs-t39oHzh6.js";import"./lazy-CTr8uHza.js";/* empty css              */import"./VField-ECDxRtcR.js";import"./VList-BrmO1UK3.js";import"./ssrBoot-DTcmQToe.js";import"./createSimpleFunctional-468wPgla.js";import"./VDivider-C4kHsR9g.js";import"./dialog-transition-C3MiiA6M.js";import"./VMenu-DTZ6uDZD.js";import"./VCheckboxBtn-BRmrHq-R.js";const He={class:"d-flex justify-space-between align-center mb-6"},Ke={class:"text-h4 font-weight-bold mb-1"},Xe={class:"text-body-1 mb-0"},Ye={class:"d-flex align-center"},Ze={style:{"font-family":"monospace","font-size":"0.875rem"}},el={key:1,class:"text-center py-8"},ll={class:"mt-4"},al={key:2,class:"text-center py-8"},tl={class:"text-h6 mb-2"},ol={class:"text-body-2 mb-4"},sl={key:3,class:"text-center py-8"},rl={class:"text-h6 mb-2"},ul={class:"text-body-2 mb-4"},nl={class:"mb-3"},il={class:"mb-3"},dl={class:"mb-3"},ml={class:"mb-3"},pl={class:"mb-3"},cl={class:"d-flex align-center"},_l={class:"mb-3"},vl={style:{"font-family":"monospace"}},fl={class:"mb-3"},bl={class:"mb-3"},gl={class:"mb-3"},Vl={class:"mb-3"},na=Ee({__name:"affiliates-users",setup(yl){Le();const{t:l}=$e(),{showSuccess:H,showError:D}=Ne(),{confirmCreate:pe,confirmUpdate:ce,confirmDelete:hl,isDialogVisible:_e,isLoading:ve,dialogTitle:fe,dialogText:be,dialogIcon:ge,dialogColor:Ve,confirmButtonText:ye,cancelButtonText:he,handleConfirm:ke,handleCancel:we}=Re(),{filter:B,getQueryParams:xe,getStatusColor:Ue,getStatusText:Ce}=Oe(()=>g(b.value.current_page)),S=y(!1),z=y(!1),T=y(!1),i=y(null),s=y({nom_complet:"",email:"",password:"",telephone:"",adresse:"",cin:"",photo_profil:"",role:"affiliate",statut:"actif",kyc_statut:"non_requis",rib:"",bank_type:""}),{errors:c,set:K,clear:X}=Me(),E=y([]),V=y(!1),$=y(null),b=y({current_page:1,last_page:1,per_page:15,total:0}),h=y({search:"",statut:""}),De=y([]),O=[{title:l("all_status"),value:""},{title:l("active"),value:"actif"},{title:l("inactive"),value:"inactif"},{title:l("blocked"),value:"bloque"}],Y=[{title:l("not_required"),value:"non_requis"},{title:l("pending"),value:"en_attente"},{title:l("approved"),value:"valide"},{title:l("rejected"),value:"refuse"}];oe(B,()=>{g(1)}),oe(h,()=>{g(1)},{deep:!0});const g=async(d=1)=>{try{V.value=!0,$.value=null;const t=new URLSearchParams({page:d.toString(),per_page:b.value.per_page.toString(),...xe()});h.value.search&&t.set("search",h.value.search),h.value.statut&&t.set("statut",h.value.statut),t.set("role","affiliate");const o=`/admin/users?${t.toString()}`,{data:p,error:P}=await R(o);if(P.value){const L=P.value.message||l("failed_to_load_users");$.value=L,D(L),console.error("Users fetch error:",P.value)}else if(p.value){const L=p.value.data||p.value.users||[],N=p.value.pagination||p.value;E.value=L.map(_=>{var te;return{id:_.id,nom_complet:_.nom_complet,email:_.email,telephone:_.telephone,adresse:_.adresse,cin:_.cin,photo_profil:_.photo_profil,roles:((te=_.roles)==null?void 0:te.map(Te=>Te.name))??[],statut:_.statut,email_verifie:_.email_verifie,kyc_statut:_.kyc_statut,rib:_.rib,bank_type:_.bank_type,created_at:_.created_at,updated_at:_.updated_at,deleted_at:_.deleted_at,permissions:_.permissions??[],remember_token:_.remember_token}}),b.value={current_page:N.current_page||1,last_page:N.last_page||1,per_page:N.per_page||15,total:N.total||0},console.log("âœ… Affiliate users loaded successfully:",E.value.length)}}catch(t){$.value=t.message||l("failed_to_load_users"),D(l("failed_to_load_users")),console.error("Users fetch error:",t)}finally{V.value=!1}},Se=async()=>{var d;try{const{data:t,error:o}=await R("/admin/users/roles/list");o.value?console.error("Roles fetch error:",o.value):(d=t.value)!=null&&d.roles&&(De.value=t.value.roles.map(p=>({title:p.name.charAt(0).toUpperCase()+p.name.slice(1),value:p.name})))}catch(t){console.error("Roles fetch error:",t)}},Z=async()=>{if(await pe(l("affiliate_user")))try{V.value=!0,X();const{data:t,error:o}=await R("/admin/users",{method:"POST",body:JSON.stringify({nom_complet:s.value.nom_complet,email:s.value.email,password:s.value.password,telephone:s.value.telephone,adresse:s.value.adresse,cin:s.value.cin,photo_profil:s.value.photo_profil,role:s.value.role,statut:s.value.statut,kyc_statut:s.value.kyc_statut,rib:s.value.rib,bank_type:s.value.bank_type}),headers:{"Content-Type":"application/json"}});if(o.value)if(o.value.errors)K(o.value.errors);else{const p=o.value.message||l("failed_to_create_user");D(p)}else H(l("user_created_successfully")),S.value=!1,le(),await g(b.value.current_page)}catch(t){D(t.message||l("failed_to_create_user"))}finally{V.value=!1}},ee=async()=>{if(!(!i.value||!await ce(l("affiliate_user"))))try{V.value=!0,X();const t={nom_complet:s.value.nom_complet,email:s.value.email,telephone:s.value.telephone,adresse:s.value.adresse,cin:s.value.cin,photo_profil:s.value.photo_profil,role:s.value.role,statut:s.value.statut,kyc_statut:s.value.kyc_statut,rib:s.value.rib,bank_type:s.value.bank_type};s.value.password&&(t.password=s.value.password);const{data:o,error:p}=await R(`/admin/users/${i.value.id}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(p.value)if(p.value.errors)K(p.value.errors);else{const P=p.value.message||l("failed_to_update_user");D(P)}else H(l("user_updated_successfully")),z.value=!1,le(),await g(b.value.current_page)}catch(t){D(t.message||l("failed_to_update_user"))}finally{V.value=!1}},le=()=>{s.value={nom_complet:"",email:"",password:"",telephone:"",adresse:"",cin:"",photo_profil:"",role:"affiliate",statut:"actif",kyc_statut:"non_requis",rib:"",bank_type:""},i.value=null},ae=d=>{i.value=d,s.value={nom_complet:d.nom_complet,email:d.email,password:"",telephone:d.telephone||"",adresse:d.adresse||"",cin:d.cin||"",photo_profil:d.photo_profil||"",role:d.roles[0]||"affiliate",statut:d.statut,kyc_statut:d.kyc_statut,rib:d.rib||"",bank_type:d.bank_type||""},z.value=!0},qe=d=>{i.value=d,T.value=!0},ze=()=>{h.value={search:"",statut:""},g(1)};return Pe(async()=>{await Promise.all([g(),Se()])}),(d,t)=>(w(),q("div",null,[r("div",He,[r("div",null,[r("h1",Ke,n(e(l)("affiliate_users_management")),1),r("p",Xe,n(e(l)("manage_affiliate_users_description")),1)]),a(k,{color:"primary","prepend-icon":"tabler-plus",onClick:t[0]||(t[0]=o=>S.value=!0)},{default:u(()=>[m(n(e(l)("add_affiliate_user")),1)]),_:1})]),a(Qe,{modelValue:e(B),"onUpdate:modelValue":t[1]||(t[1]=o=>Fe(B)?B.value=o:null),class:"mb-6"},null,8,["modelValue"]),a(j,{class:"mb-6"},{default:u(()=>[a(F,null,{default:u(()=>[a(I,null,{default:u(()=>[a(v,{cols:"12",md:"6"},{default:u(()=>[a(f,{modelValue:h.value.search,"onUpdate:modelValue":t[2]||(t[2]=o=>h.value.search=o),label:e(l)("search"),placeholder:e(l)("search_users"),"prepend-inner-icon":"tabler-search",clearable:""},null,8,["modelValue","label","placeholder"])]),_:1}),a(v,{cols:"12",md:"4"},{default:u(()=>[a(U,{modelValue:h.value.statut,"onUpdate:modelValue":t[3]||(t[3]=o=>h.value.statut=o),label:e(l)("status"),placeholder:e(l)("all_status"),items:O,clearable:""},null,8,["modelValue","label","placeholder"])]),_:1}),a(v,{cols:"12",md:"2"},{default:u(()=>[a(k,{block:"",variant:"outlined",onClick:ze},{default:u(()=>[m(n(e(l)("clear")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(j,null,{default:u(()=>[a(F,null,{default:u(()=>[!V.value&&E.value.length?(w(),J(We,{key:0},{default:u(()=>[r("thead",null,[r("tr",null,[r("th",null,n(e(l)("profile_image")),1),r("th",null,n(e(l)("name")),1),r("th",null,n(e(l)("email")),1),r("th",null,n(e(l)("phone")),1),r("th",null,n(e(l)("bank_type")),1),r("th",null,n(e(l)("rib")),1),r("th",null,n(e(l)("role")),1),r("th",null,n(e(l)("status")),1),r("th",null,n(e(l)("record_status")),1),r("th",null,n(e(l)("kyc_status")),1),r("th",null,n(e(l)("created")),1),r("th",null,n(e(l)("actions")),1)])]),r("tbody",null,[(w(!0),q(je,null,Ae(E.value,o=>(w(),q("tr",{key:o.id},[r("td",null,[a(ne,{size:"40"},{default:u(()=>[a(ie,{src:e(ue)(o.photo_profil),alt:o.nom_complet,cover:""},null,8,["src","alt"])]),_:2},1024)]),r("td",null,n(o.nom_complet),1),r("td",null,n(o.email),1),r("td",null,n(o.telephone||"-"),1),r("td",null,[r("div",Ye,[a(x,{icon:"tabler-building-bank",size:"16",class:"me-2"}),m(" "+n(o.bank_type?o.bank_type:e(l)("bank_not_provided")),1)])]),r("td",null,[r("div",Ze,n(o.rib?o.rib:e(l)("bank_not_provided")),1)]),r("td",null,[a(C,{color:o.roles[0]==="admin"?"error":"primary",size:"small"},{default:u(()=>[m(n(o.roles[0]||e(l)("no_role")),1)]),_:2},1032,["color"])]),r("td",null,[a(C,{color:o.statut==="actif"?"success":o.statut==="bloque"?"error":"warning",size:"small"},{default:u(()=>[m(n(o.statut),1)]),_:2},1032,["color"])]),r("td",null,[a(C,{color:e(Ue)(o),size:"small",variant:"elevated"},{default:u(()=>[m(n(e(Ce)(o)),1)]),_:2},1032,["color"])]),r("td",null,[a(C,{color:o.kyc_statut==="valide"?"success":o.kyc_statut==="refuse"?"error":"warning",size:"small"},{default:u(()=>[m(n(o.kyc_statut),1)]),_:2},1032,["color"])]),r("td",null,n(o.created_at?new Date(o.created_at).toLocaleDateString():e(l)("not_available")),1),r("td",null,[a(Je,{item:o,"entity-name":"user","api-endpoint":"/admin/users","item-name-field":"nom_complet",onDeleted:t[4]||(t[4]=p=>g(b.value.current_page)),onRestored:t[5]||(t[5]=p=>g(b.value.current_page)),onPermanentlyDeleted:t[6]||(t[6]=p=>g(b.value.current_page)),onEdit:ae,onView:qe},null,8,["item"])])]))),128))])]),_:1})):V.value?(w(),q("div",el,[a(Be,{indeterminate:"",color:"primary"}),r("p",ll,n(e(l)("loading_users"))+"...",1)])):(w(),q("div",al,[a(x,{icon:"tabler-users",size:"64",class:"mb-4",color:"disabled"}),r("h3",tl,n(e(l)("no_affiliate_users_found")),1),r("p",ol,n(e(l)("no_affiliate_users_description")),1),a(k,{color:"primary",onClick:t[7]||(t[7]=o=>S.value=!0)},{default:u(()=>[m(n(e(l)("add_first_affiliate_user")),1)]),_:1})])),$.value?(w(),q("div",sl,[a(x,{icon:"tabler-alert-circle",size:"64",class:"mb-4",color:"error"}),r("h3",rl,n(e(l)("error_loading_users")),1),r("p",ul,n($.value),1),a(k,{color:"primary",onClick:t[8]||(t[8]=o=>g(1))},{default:u(()=>[m(n(e(l)("retry")),1)]),_:1})])):Q("",!0)]),_:1}),!V.value&&E.value.length&&b.value.last_page>1?(w(),J(M,{key:0},{default:u(()=>[a(A),a(Ge,{modelValue:b.value.current_page,"onUpdate:modelValue":[t[9]||(t[9]=o=>b.value.current_page=o),g],length:b.value.last_page,"total-visible":7},null,8,["modelValue","length"]),a(A)]),_:1})):Q("",!0)]),_:1}),a(G,{modelValue:S.value,"onUpdate:modelValue":t[22]||(t[22]=o=>S.value=o),"max-width":"600"},{default:u(()=>[a(j,null,{default:u(()=>[a(W,{class:"d-flex align-center"},{default:u(()=>[a(x,{icon:"tabler-user-plus",class:"me-2"}),m(" "+n(e(l)("add_affiliate_user")),1)]),_:1}),a(F,null,{default:u(()=>[a(de,{onSubmit:se(Z,["prevent"])},{default:u(()=>[a(f,{modelValue:s.value.nom_complet,"onUpdate:modelValue":t[10]||(t[10]=o=>s.value.nom_complet=o),label:e(l)("full_name"),placeholder:e(l)("enter_full_name"),"error-messages":e(c).nom_complet,required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(f,{modelValue:s.value.email,"onUpdate:modelValue":t[11]||(t[11]=o=>s.value.email=o),label:e(l)("email"),placeholder:e(l)("enter_email"),"error-messages":e(c).email,type:"email",required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(f,{modelValue:s.value.password,"onUpdate:modelValue":t[12]||(t[12]=o=>s.value.password=o),label:e(l)("password"),placeholder:e(l)("enter_password"),"error-messages":e(c).password,type:"password",required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(f,{modelValue:s.value.telephone,"onUpdate:modelValue":t[13]||(t[13]=o=>s.value.telephone=o),label:e(l)("phone"),placeholder:e(l)("enter_phone"),"error-messages":e(c).telephone,class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(me,{modelValue:s.value.adresse,"onUpdate:modelValue":t[14]||(t[14]=o=>s.value.adresse=o),label:e(l)("address"),placeholder:e(l)("enter_address"),"error-messages":e(c).adresse,rows:"3",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(f,{modelValue:s.value.cin,"onUpdate:modelValue":t[15]||(t[15]=o=>s.value.cin=o),label:e(l)("cin_number"),placeholder:e(l)("enter_cin"),"error-messages":e(c).cin,class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(I,{class:"mb-4"},{default:u(()=>[a(v,{cols:"12",md:"6"},{default:u(()=>[a(U,{modelValue:s.value.bank_type,"onUpdate:modelValue":t[16]||(t[16]=o=>s.value.bank_type=o),label:e(l)("bank_type"),placeholder:e(l)("select_bank"),"error-messages":e(c).bank_type,items:[{value:"attijari",text:e(l)("banks.attijariwafa")},{value:"populaire",text:e(l)("banks.banque_populaire")},{value:"bmce",text:e(l)("banks.bmce_bank")},{value:"bmci",text:e(l)("banks.bmci")},{value:"cih",text:e(l)("banks.cih_bank")},{value:"credit_agricole",text:e(l)("banks.credit_agricole")},{value:"credit_maroc",text:e(l)("banks.credit_du_maroc")},{value:"societe_generale",text:e(l)("banks.societe_generale")},{value:"autre",text:e(l)("other")}],"item-title":"text","item-value":"value",clearable:""},null,8,["modelValue","label","placeholder","error-messages","items"])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[a(f,{modelValue:s.value.rib,"onUpdate:modelValue":t[17]||(t[17]=o=>s.value.rib=o),label:e(l)("rib"),placeholder:e(l)("enter_rib"),"error-messages":e(c).rib,style:{"font-family":"monospace"}},null,8,["modelValue","label","placeholder","error-messages"])]),_:1})]),_:1}),a(re,{modelValue:s.value.photo_profil,"onUpdate:modelValue":t[18]||(t[18]=o=>s.value.photo_profil=o),label:e(l)("profile_image"),"error-messages":e(c).photo_profil,class:"mb-4"},null,8,["modelValue","label","error-messages"]),a(U,{modelValue:s.value.statut,"onUpdate:modelValue":t[19]||(t[19]=o=>s.value.statut=o),items:O.slice(1),label:e(l)("status"),placeholder:e(l)("select_status"),required:"",class:"mb-4"},null,8,["modelValue","items","label","placeholder"]),a(U,{modelValue:s.value.kyc_statut,"onUpdate:modelValue":t[20]||(t[20]=o=>s.value.kyc_statut=o),items:Y,label:e(l)("kyc_status"),placeholder:e(l)("select_kyc_status"),required:""},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1}),a(M,null,{default:u(()=>[a(A),a(k,{variant:"outlined",type:"button",onClick:t[21]||(t[21]=o=>S.value=!1)},{default:u(()=>[m(n(e(l)("cancel")),1)]),_:1}),a(k,{color:"primary",type:"button",loading:V.value,onClick:Z},{default:u(()=>[m(n(e(l)("create_user")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(G,{modelValue:z.value,"onUpdate:modelValue":t[35]||(t[35]=o=>z.value=o),"max-width":"600"},{default:u(()=>[a(j,null,{default:u(()=>[a(W,{class:"d-flex align-center"},{default:u(()=>[a(x,{icon:"tabler-edit",class:"me-2"}),m(" "+n(e(l)("edit_affiliate_user")),1)]),_:1}),a(F,null,{default:u(()=>[a(de,{onSubmit:se(ee,["prevent"])},{default:u(()=>[a(f,{modelValue:s.value.nom_complet,"onUpdate:modelValue":t[23]||(t[23]=o=>s.value.nom_complet=o),label:e(l)("full_name"),placeholder:e(l)("enter_full_name"),"error-messages":e(c).nom_complet,required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(f,{modelValue:s.value.email,"onUpdate:modelValue":t[24]||(t[24]=o=>s.value.email=o),label:e(l)("email"),placeholder:e(l)("enter_email"),"error-messages":e(c).email,type:"email",required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(f,{modelValue:s.value.password,"onUpdate:modelValue":t[25]||(t[25]=o=>s.value.password=o),label:e(l)("password"),placeholder:e(l)("leave_empty_to_keep_current"),"error-messages":e(c).password,type:"password",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(f,{modelValue:s.value.telephone,"onUpdate:modelValue":t[26]||(t[26]=o=>s.value.telephone=o),label:e(l)("phone"),placeholder:e(l)("enter_phone"),"error-messages":e(c).telephone,class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(me,{modelValue:s.value.adresse,"onUpdate:modelValue":t[27]||(t[27]=o=>s.value.adresse=o),label:e(l)("address"),placeholder:e(l)("enter_address"),"error-messages":e(c).adresse,rows:"3",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(f,{modelValue:s.value.cin,"onUpdate:modelValue":t[28]||(t[28]=o=>s.value.cin=o),label:e(l)("cin_number"),placeholder:e(l)("enter_cin"),"error-messages":e(c).cin,class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(I,{class:"mb-4"},{default:u(()=>[a(v,{cols:"12",md:"6"},{default:u(()=>[a(U,{modelValue:s.value.bank_type,"onUpdate:modelValue":t[29]||(t[29]=o=>s.value.bank_type=o),label:e(l)("bank_type"),placeholder:e(l)("select_bank"),"error-messages":e(c).bank_type,items:[{value:"attijari",text:e(l)("banks.attijariwafa")},{value:"populaire",text:e(l)("banks.banque_populaire")},{value:"bmce",text:e(l)("banks.bmce_bank")},{value:"bmci",text:e(l)("banks.bmci")},{value:"cih",text:e(l)("banks.cih_bank")},{value:"credit_agricole",text:e(l)("banks.credit_agricole")},{value:"credit_maroc",text:e(l)("banks.credit_du_maroc")},{value:"societe_generale",text:e(l)("banks.societe_generale")},{value:"autre",text:e(l)("other")}],"item-title":"text","item-value":"value",clearable:""},null,8,["modelValue","label","placeholder","error-messages","items"])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[a(f,{modelValue:s.value.rib,"onUpdate:modelValue":t[30]||(t[30]=o=>s.value.rib=o),label:e(l)("rib"),placeholder:e(l)("enter_rib"),"error-messages":e(c).rib,style:{"font-family":"monospace"}},null,8,["modelValue","label","placeholder","error-messages"])]),_:1})]),_:1}),a(re,{modelValue:s.value.photo_profil,"onUpdate:modelValue":t[31]||(t[31]=o=>s.value.photo_profil=o),label:e(l)("profile_image"),"error-messages":e(c).photo_profil,class:"mb-4"},null,8,["modelValue","label","error-messages"]),a(U,{modelValue:s.value.statut,"onUpdate:modelValue":t[32]||(t[32]=o=>s.value.statut=o),items:O.slice(1),label:e(l)("status"),placeholder:e(l)("select_status"),required:"",class:"mb-4"},null,8,["modelValue","items","label","placeholder"]),a(U,{modelValue:s.value.kyc_statut,"onUpdate:modelValue":t[33]||(t[33]=o=>s.value.kyc_statut=o),items:Y,label:e(l)("kyc_status"),placeholder:e(l)("select_kyc_status"),required:""},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1}),a(M,null,{default:u(()=>[a(A),a(k,{variant:"outlined",type:"button",onClick:t[34]||(t[34]=o=>z.value=!1)},{default:u(()=>[m(n(e(l)("cancel")),1)]),_:1}),a(k,{color:"primary",type:"button",loading:V.value,onClick:ee},{default:u(()=>[m(n(e(l)("update_user")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(G,{modelValue:T.value,"onUpdate:modelValue":t[38]||(t[38]=o=>T.value=o),"max-width":"600"},{default:u(()=>[a(j,null,{default:u(()=>[a(W,{class:"d-flex align-center"},{default:u(()=>[a(x,{icon:"tabler-eye",class:"me-2"}),m(" "+n(e(l)("view_affiliate_user")),1)]),_:1}),a(F,null,{default:u(()=>[i.value?(w(),J(I,{key:0},{default:u(()=>[a(v,{cols:"12",class:"text-center mb-4"},{default:u(()=>[a(ne,{size:"80"},{default:u(()=>[a(ie,{src:e(ue)(i.value.photo_profil),alt:i.value.nom_complet,cover:""},null,8,["src","alt"])]),_:1})]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",nl,[r("strong",null,n(e(l)("full_name"))+":",1),r("div",null,n(i.value.nom_complet),1)])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",il,[r("strong",null,n(e(l)("email"))+":",1),r("div",null,n(i.value.email),1)])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",dl,[r("strong",null,n(e(l)("phone"))+":",1),r("div",null,n(i.value.telephone||"-"),1)])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",ml,[r("strong",null,n(e(l)("address"))+":",1),r("div",null,n(i.value.adresse||"-"),1)])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",pl,[r("strong",null,n(e(l)("bank_type"))+":",1),r("div",cl,[a(x,{icon:"tabler-building-bank",size:"16",class:"me-2"}),m(" "+n(i.value.bank_type||e(l)("bank_not_provided")),1)])])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",_l,[r("strong",null,n(e(l)("rib"))+":",1),r("div",vl,n(i.value.rib||e(l)("bank_not_provided")),1)])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",fl,[r("strong",null,n(e(l)("status"))+":",1),a(C,{color:i.value.statut==="actif"?"success":i.value.statut==="bloque"?"error":"warning",size:"small"},{default:u(()=>[m(n(i.value.statut),1)]),_:1},8,["color"])])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",bl,[r("strong",null,n(e(l)("kyc_status"))+":",1),a(C,{color:i.value.kyc_statut==="valide"?"success":i.value.kyc_statut==="refuse"?"error":"warning",size:"small"},{default:u(()=>[m(n(i.value.kyc_statut),1)]),_:1},8,["color"])])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",gl,[r("strong",null,n(e(l)("email_verified"))+":",1),a(C,{color:i.value.email_verifie?"success":"warning",size:"small"},{default:u(()=>[m(n(i.value.email_verifie?e(l)("yes"):e(l)("no")),1)]),_:1},8,["color"])])]),_:1}),a(v,{cols:"12",md:"6"},{default:u(()=>[r("div",Vl,[r("strong",null,n(e(l)("created"))+":",1),r("div",null,n(i.value.created_at?new Date(i.value.created_at).toLocaleDateString():e(l)("not_available")),1)])]),_:1})]),_:1})):Q("",!0)]),_:1}),a(M,null,{default:u(()=>[a(A),a(k,{variant:"outlined",onClick:t[36]||(t[36]=o=>T.value=!1)},{default:u(()=>[m(n(e(l)("close")),1)]),_:1}),a(k,{color:"primary",onClick:t[37]||(t[37]=o=>{i.value&&ae(i.value),T.value=!1})},{default:u(()=>[m(n(e(l)("edit")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Ie,{"is-dialog-visible":e(_e),"is-loading":e(ve),"dialog-title":e(fe),"dialog-text":e(be),"dialog-icon":e(ge),"dialog-color":e(Ve),"confirm-button-text":e(ye),"cancel-button-text":e(he),onConfirm:e(ke),onCancel:e(we)},null,8,["is-dialog-visible","is-loading","dialog-title","dialog-text","dialog-icon","dialog-color","confirm-button-text","cancel-button-text","onConfirm","onCancel"])]))}});export{na as default};
