import{aL as D,r as u,V as i,N as w}from"./main-uLG9IIeX.js";let m;function k(){const{t:e}=D(),a=u(!1),r=u({}),s=u(!1);let l=null;const d=i(()=>r.value.title||e("common.confirm")),x=i(()=>r.value.text||e("common.are_you_sure")),n=i(()=>r.value.type||"warning"),c=i(()=>{if(r.value.icon)return r.value.icon;switch(n.value){case"danger":return"tabler-alert-triangle";case"warning":return"tabler-alert-circle";case"success":return"tabler-check";case"info":return"tabler-info-circle";default:return"tabler-help"}}),g=i(()=>{if(r.value.color)return r.value.color;switch(n.value){case"danger":return"error";case"warning":return"warning";case"success":return"success";case"info":return"info";default:return"warning"}}),_=i(()=>r.value.confirmText||e("common.confirm")),T=i(()=>r.value.cancelText||e("common.cancel")),v={create:t=>({title:e("confirm.create_title"),text:e("confirm.create_text",{entity:t}),type:"info",confirmText:e("common.create"),cancelText:e("common.cancel"),icon:"tabler-plus",color:"primary"}),update:(t,o)=>({title:e("confirm.update_title"),text:o?e("confirm.update_text_with_name",{entity:t,name:o}):e("confirm.update_text",{entity:t}),type:"info",confirmText:e("common.save"),cancelText:e("common.cancel"),icon:"tabler-edit",color:"primary"}),delete:(t,o)=>({title:e("confirm.delete_title"),text:o?e("confirm.delete_text_with_name",{entity:t,name:o}):e("confirm.delete_text",{entity:t}),type:"danger",confirmText:e("common.delete"),cancelText:e("common.cancel"),icon:"tabler-trash",color:"error"}),restore:(t,o)=>({title:e("confirm.restore_title"),text:o?e("confirm.restore_text_with_name",{entity:t,name:o}):e("confirm.restore_text",{entity:t}),type:"success",confirmText:e("common.restore"),cancelText:e("common.cancel"),icon:"tabler-restore",color:"success"}),permanentDelete:(t,o)=>({title:e("confirm.permanent_delete_title"),text:o?e("confirm.permanent_delete_text_with_name",{entity:t,name:o}):e("confirm.permanent_delete_text",{entity:t}),type:"danger",confirmText:e("common.permanent_delete"),cancelText:e("common.cancel"),icon:"tabler-trash-x",color:"error"}),bulkDelete:(t,o)=>({title:e("confirm.bulk_delete_title"),text:e("confirm.bulk_delete_text",{entity:t,count:o}),type:"danger",confirmText:e("common.delete_all"),cancelText:e("common.cancel"),icon:"tabler-trash",color:"error"})},b=async t=>a.value&&l?Promise.resolve(!1):new Promise((o,L)=>{r.value={...t},a.value=!0,s.value=!1,l=o}),h=()=>{l&&(l(!0),l=null),f()},C=()=>{l&&(l(!1),l=null),f()},f=()=>{a.value=!1,s.value=!1,r.value={}},p={isDialogVisible:a,isLoading:s,dialogTitle:d,dialogText:x,dialogType:n,dialogIcon:c,dialogColor:g,confirmButtonText:_,cancelButtonText:T,confirm:b,handleConfirm:h,handleCancel:C,closeDialog:f,setLoading:t=>{s.value=t},presets:v};return m||(m=p),p}function y(){const e=w("confirmAction",null);return e||(m||(m=k()),m)}function A(){const e=y();return{confirmCreate:n=>e.confirm(e.presets.create(n)),confirmUpdate:(n,c)=>e.confirm(e.presets.update(n,c)),confirmDelete:(n,c)=>e.confirm(e.presets.delete(n,c)),confirmRestore:(n,c)=>e.confirm(e.presets.restore(n,c)),confirmPermanentDelete:(n,c)=>e.confirm(e.presets.permanentDelete(n,c)),confirmBulkDelete:(n,c)=>e.confirm(e.presets.bulkDelete(n,c)),confirm:e.confirm,isDialogVisible:e.isDialogVisible,isLoading:e.isLoading,dialogTitle:e.dialogTitle,dialogText:e.dialogText,dialogIcon:e.dialogIcon,dialogColor:e.dialogColor,confirmButtonText:e.confirmButtonText,cancelButtonText:e.cancelButtonText,handleConfirm:e.handleConfirm,handleCancel:e.handleCancel,setLoading:e.setLoading}}export{k as useConfirmAction,y as useGlobalConfirm,A as useQuickConfirm};
