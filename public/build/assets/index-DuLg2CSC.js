import{d as ie,aL as ue,r as v,V as g,w as ge,h as F,b as D,g as t,e,f as o,v as s,ac as z,aW as Le,t as h,ai as Oe,m as H,k as Pe,b7 as Ee,b8 as Ne,o as Me,c as Re,az as E,n as f,aP as Qe}from"./main-DnYrbSQO.js";import{u as ne}from"./boutiques-Y4z4161h.js";import{_ as Je}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-DQ73-MJ6.js";import{useQuickConfirm as qe}from"./useConfirmAction-BI0MVrs1.js";import{V as k,b as re,c as he}from"./VCard-om2cqSxr.js";import{V as U}from"./VCardText-ByjN3mlm.js";import{V as Ke}from"./VForm-CBmw6Dgd.js";import{V as B,a as m}from"./VRow-B-6WkvV7.js";import{V as N}from"./VTextField-BFgmXL2S.js";import{V as We}from"./VAutocomplete-Czj-J9K1.js";import{V as Ge}from"./VTextarea-Dcb-AMDz.js";import{V as le}from"./VSelect-CKLjvmQy.js";import{V as Ve}from"./VSpacer-CqgRR1TD.js";import{V as ye}from"./VDialog-Bxp8pJL4.js";import{V as X}from"./VChip-CjuV2Q4G.js";import{V as se}from"./VDivider-u64Rz-6W.js";import{V as $e}from"./VAvatar-BwJp41ss.js";import{C as He}from"./ConfirmActionDialog-C_XvTAu7.js";import{a as Xe,S as Ye}from"./SoftDeleteActions-1pnQCs2e.js";import{S as Ze}from"./SoftDeleteFilter-D8Zr91C4.js";import{V as et}from"./VDataTableServer-R8tkWQGT.js";import{V as tt}from"./VSkeletonLoader-CmFzu-7Z.js";import"./useNotifications-B96M_DMY.js";import"./useApi-CLL5zN4i.js";import"./VBreadcrumbs-C9tszCP5.js";import"./createSimpleFunctional-D0EIrpo1.js";import"./VImg-CrKU03S9.js";import"./VField-CQs8lPb7.js";import"./forwardRefs-CKYzHDJS.js";/* empty css              */import"./filter-Dgd-zPx5.js";import"./VList-DOWShsA2.js";import"./ssrBoot-DYjajp4c.js";import"./VMenu-Bwc3jIko.js";import"./VOverlay-B2NeWL_F.js";import"./lazy-tUmo4pC_.js";import"./dialog-transition-DVo_RrAy.js";import"./VCheckboxBtn-CH3WdWXy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ActionIcon-BMdL2eXf.js";import"./VTooltip-iZcEKscW.js";import"./VDataTable-DKYwtbC2.js";import"./VPagination-08TpqLBG.js";import"./VTable-CrO6KCbh.js";const at=ie({__name:"BoutiqueCrudDialog",props:{modelValue:{type:Boolean},boutique:{},mode:{}},emits:["update:modelValue","saved"],setup(M,{emit:I}){const n=M,w=I,{t:p}=ue(),j=ne(),{confirmCreate:x,confirmUpdate:T}=qe(),A=v(null),C=v(!1),b=v({}),y=v(!1),a=v([]),i=v({nom:"",slug:"",proprietaire_id:"",email_pro:"",adresse:"",statut:"actif",commission_par_defaut:5}),V=g({get:()=>n.modelValue,set:r=>w("update:modelValue",r)}),S=g(()=>n.mode==="edit"),L=g(()=>[{title:p("status_active"),value:"actif"},{title:p("status_inactive"),value:"suspendu"},{title:p("status_cancelled"),value:"desactive"}]),R=()=>{i.value={nom:"",slug:"",proprietaire_id:"",email_pro:"",adresse:"",statut:"actif",commission_par_defaut:5},b.value={}},Y=()=>{n.boutique&&S.value&&(i.value={nom:n.boutique.nom,slug:n.boutique.slug,proprietaire_id:n.boutique.proprietaire.id,email_pro:n.boutique.email_pro||"",adresse:n.boutique.adresse||"",statut:n.boutique.statut,commission_par_defaut:n.boutique.commission_par_defaut},a.value=[{text:`${n.boutique.proprietaire.nom_complet} (${n.boutique.proprietaire.email})`,value:n.boutique.proprietaire.id}])},Z=()=>{i.value.nom&&(!i.value.slug||!S.value)&&(i.value.slug=i.value.nom.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))},ee=async r=>{if(!(!r||r.length<2)){y.value=!0;try{await new Promise(d=>setTimeout(d,300)),a.value=[{text:"John Doe (john@example.com)",value:"1"},{text:"Jane Smith (jane@example.com)",value:"2"}].filter(d=>d.text.toLowerCase().includes(r.toLowerCase()))}catch(d){console.error("Error searching owners:",d)}finally{y.value=!1}}},O=()=>{const r={};return i.value.nom.trim()||(r.nom=[p("validation_required",{field:p("admin_boutiques_name")})]),i.value.proprietaire_id||(r.proprietaire_id=[p("validation_required",{field:p("admin_boutiques_owner")})]),i.value.email_pro&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.value.email_pro)&&(r.email_pro=[p("validation_email")]),i.value.statut||(r.statut=[p("validation_required",{field:p("admin_boutiques_status")})]),(i.value.commission_par_defaut<0||i.value.commission_par_defaut>100)&&(r.commission_par_defaut=[p("validation_between",{field:p("admin_boutiques_commission_rate"),min:0,max:100})]),b.value=r,Object.keys(r).length===0},te=async()=>{var d;if(!(!O()||!(S.value&&n.boutique?await T(p("boutique"),n.boutique.nom):await x(p("boutique"))))){C.value=!0;try{S.value&&n.boutique?await j.update(n.boutique.id,i.value):await j.create(i.value),w("saved"),$()}catch(_){console.error("Save failed:",_),_.status===422&&((d=_.data)!=null&&d.errors)&&(b.value=_.data.errors)}finally{C.value=!1}}},$=()=>{V.value=!1,R()};return ge(()=>n.modelValue,async r=>{r&&(await Oe(),R(),Y())}),(r,d)=>(D(),F(ye,{modelValue:V.value,"onUpdate:modelValue":d[7]||(d[7]=_=>V.value=_),"max-width":"600",persistent:""},{default:t(()=>[e(k,null,{default:t(()=>[e(re,{class:"d-flex align-center justify-space-between"},{default:t(()=>[o("span",null,s(S.value?r.$t("admin_boutiques_edit_title"):r.$t("admin_boutiques_create_title")),1),e(z,{icon:"tabler-x",variant:"text",size:"small",onClick:$})]),_:1}),e(U,null,{default:t(()=>[e(Ke,{ref_key:"form",ref:A,onSubmit:Le(te,["prevent"])},{default:t(()=>[e(B,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[e(N,{modelValue:i.value.nom,"onUpdate:modelValue":d[0]||(d[0]=_=>i.value.nom=_),label:r.$t("admin_boutiques_name")+" *","error-messages":b.value.nom,variant:"outlined",required:"",onBlur:Z},null,8,["modelValue","label","error-messages"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(N,{modelValue:i.value.slug,"onUpdate:modelValue":d[1]||(d[1]=_=>i.value.slug=_),label:r.$t("admin_boutiques_slug"),"error-messages":b.value.slug,variant:"outlined",hint:r.$t("admin_boutiques_slug_hint"),"persistent-hint":""},null,8,["modelValue","label","error-messages","hint"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(We,{modelValue:i.value.proprietaire_id,"onUpdate:modelValue":d[2]||(d[2]=_=>i.value.proprietaire_id=_),label:r.$t("admin_boutiques_owner")+" *",items:a.value,"item-title":"text","item-value":"value","error-messages":b.value.proprietaire_id,variant:"outlined",required:"",loading:y.value,"onUpdate:search":ee},null,8,["modelValue","label","items","error-messages","loading"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(N,{modelValue:i.value.email_pro,"onUpdate:modelValue":d[3]||(d[3]=_=>i.value.email_pro=_),label:r.$t("admin_boutiques_email"),"error-messages":b.value.email_pro,type:"email",variant:"outlined"},null,8,["modelValue","label","error-messages"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(Ge,{modelValue:i.value.adresse,"onUpdate:modelValue":d[4]||(d[4]=_=>i.value.adresse=_),label:r.$t("admin_boutiques_address"),"error-messages":b.value.adresse,variant:"outlined",rows:"3"},null,8,["modelValue","label","error-messages"])]),_:1}),e(m,{cols:"12",sm:"6"},{default:t(()=>[e(le,{modelValue:i.value.statut,"onUpdate:modelValue":d[5]||(d[5]=_=>i.value.statut=_),label:r.$t("admin_boutiques_status")+" *",items:L.value,"error-messages":b.value.statut,variant:"outlined",required:""},null,8,["modelValue","label","items","error-messages"])]),_:1}),e(m,{cols:"12",sm:"6"},{default:t(()=>[e(N,{modelValue:i.value.commission_par_defaut,"onUpdate:modelValue":d[6]||(d[6]=_=>i.value.commission_par_defaut=_),modelModifiers:{number:!0},label:r.$t("admin_boutiques_commission_rate"),"error-messages":b.value.commission_par_defaut,type:"number",min:"0",max:"100",step:"0.01",variant:"outlined",suffix:"%"},null,8,["modelValue","label","error-messages"])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(he,{class:"px-6 pb-6"},{default:t(()=>[e(Ve),e(z,{variant:"outlined",onClick:$},{default:t(()=>[h(s(r.$t("common.cancel")),1)]),_:1}),e(z,{color:"primary",type:"button",loading:C.value,onClick:te},{default:t(()=>[h(s(r.$t("common.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),ot={class:"text-h6 mb-4"},st={class:"mb-4"},lt={class:"text-body-2 text-medium-emphasis"},it={class:"text-body-1 font-weight-medium"},ut={class:"mb-4"},nt={class:"text-body-2 text-medium-emphasis"},rt={class:"text-body-1"},dt={class:"mb-4"},mt={class:"text-body-2 text-medium-emphasis"},ct={class:"mb-4"},_t={class:"text-body-2 text-medium-emphasis"},pt={class:"text-body-1"},ft={class:"text-h6 mb-4"},vt={class:"d-flex align-center gap-4"},bt={class:"text-body-1 font-weight-medium"},gt={class:"text-body-2 text-medium-emphasis"},qt={class:"text-h6 mb-4"},ht={class:"mb-4"},Vt={class:"text-body-2 text-medium-emphasis"},yt={class:"text-body-1"},$t=["href"],wt={class:"mb-4"},xt={class:"text-body-2 text-medium-emphasis"},Ct={class:"text-body-1"},St={class:"text-h6 mb-4"},Dt={class:"mb-4"},kt={class:"text-body-2 text-medium-emphasis"},Ut={class:"text-body-1"},Bt={class:"mb-4"},zt={class:"text-body-2 text-medium-emphasis"},Tt={class:"text-body-1"},Ft=ie({__name:"BoutiqueViewDialog",props:{modelValue:{type:Boolean},boutique:{}},emits:["update:modelValue","edit"],setup(M,{emit:I}){const n=M,w=I,{t:p}=ue(),j=ne(),x=g({get:()=>n.modelValue,set:a=>w("update:modelValue",a)}),T=()=>{x.value=!1},A=a=>j.getStatusBadgeColor(a),C=a=>{const i=["primary","secondary","success","info","warning","error"],V=a.length%i.length;return i[V]},b=a=>a.split(" ").map(i=>i[0]).join("").toUpperCase().substring(0,2),y=a=>new Date(a).toLocaleString();return(a,i)=>(D(),F(ye,{modelValue:x.value,"onUpdate:modelValue":i[0]||(i[0]=V=>x.value=V),"max-width":"700"},{default:t(()=>[e(k,null,{default:t(()=>[e(re,{class:"d-flex align-center justify-space-between"},{default:t(()=>[o("span",null,s(a.$t("admin_boutiques_view_title")),1),e(z,{icon:"tabler-x",variant:"text",size:"small",onClick:T})]),_:1}),a.boutique?(D(),F(U,{key:0},{default:t(()=>[e(B,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[o("div",ot,s(a.$t("admin_boutiques_general_info")),1),e(B,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",st,[o("div",lt,s(a.$t("admin_boutiques_name")),1),o("div",it,s(a.boutique.nom),1)])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",ut,[o("div",nt,s(a.$t("admin_boutiques_slug")),1),o("div",rt,[e(X,{size:"small",variant:"outlined"},{default:t(()=>[h(s(a.boutique.slug),1)]),_:1})])])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",dt,[o("div",mt,s(a.$t("admin_boutiques_status")),1),o("div",null,[e(X,{color:A(a.boutique.statut),size:"small",variant:"elevated"},{default:t(()=>[h(s(a.boutique.statut==="actif"?a.$t("status_active"):a.boutique.statut==="suspendu"?a.$t("status_inactive"):a.$t("status_cancelled")),1)]),_:1},8,["color"])])])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",ct,[o("div",_t,s(a.$t("admin_boutiques_commission_rate")),1),o("div",pt,s(a.boutique.commission_par_defaut)+"%",1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(se,{class:"mb-4"}),o("div",ft,s(a.$t("admin_boutiques_owner_info")),1),o("div",vt,[e($e,{size:"48",color:C(a.boutique.proprietaire.nom_complet)},{default:t(()=>[h(s(b(a.boutique.proprietaire.nom_complet)),1)]),_:1},8,["color"]),o("div",null,[o("div",bt,s(a.boutique.proprietaire.nom_complet),1),o("div",gt,s(a.boutique.proprietaire.email),1)])])]),_:1}),a.boutique.email_pro||a.boutique.adresse?(D(),F(m,{key:0,cols:"12"},{default:t(()=>[e(se,{class:"mb-4"}),o("div",qt,s(a.$t("admin_boutiques_contact_info")),1),e(B,null,{default:t(()=>[a.boutique.email_pro?(D(),F(m,{key:0,cols:"12",md:"6"},{default:t(()=>[o("div",ht,[o("div",Vt,s(a.$t("admin_boutiques_email")),1),o("div",yt,[o("a",{href:`mailto:${a.boutique.email_pro}`,class:"text-primary"},s(a.boutique.email_pro),9,$t)])])]),_:1})):H("",!0),a.boutique.adresse?(D(),F(m,{key:1,cols:"12",md:"6"},{default:t(()=>[o("div",wt,[o("div",xt,s(a.$t("admin_boutiques_address")),1),o("div",Ct,s(a.boutique.adresse),1)])]),_:1})):H("",!0)]),_:1})]),_:1})):H("",!0),e(m,{cols:"12"},{default:t(()=>[e(se,{class:"mb-4"}),o("div",St,s(a.$t("admin_boutiques_metadata")),1),e(B,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",Dt,[o("div",kt,s(a.$t("common.created_at")),1),o("div",Ut,s(y(a.boutique.created_at)),1)])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",Bt,[o("div",zt,s(a.$t("common.updated_at")),1),o("div",Tt,s(y(a.boutique.updated_at)),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):H("",!0),e(he,{class:"px-6 pb-6"},{default:t(()=>[e(Ve),e(z,{variant:"outlined",onClick:T},{default:t(()=>[h(s(a.$t("common.close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),It={class:"d-flex flex-column gap-6"},jt={class:"text-h4 font-weight-bold"},At={class:"text-body-2 text-medium-emphasis"},Lt={class:"text-h4 font-weight-bold text-success"},Ot={class:"text-body-2 text-medium-emphasis"},Pt={class:"text-h4 font-weight-bold text-warning"},Et={class:"text-body-2 text-medium-emphasis"},Nt={class:"text-h4 font-weight-bold text-error"},Mt={class:"text-body-2 text-medium-emphasis"},Rt={class:"d-flex align-center gap-3"},Qt={class:"text-sm font-weight-medium"},Jt={class:"text-body-2 font-weight-medium"},Kt={class:"text-caption text-medium-emphasis"},Wt={class:"font-weight-medium"},Gt={class:"text-center py-8"},Ht={class:"text-h6 mb-2"},Xt={class:"text-body-2"},Ma=ie({__name:"index",setup(M){const I=Pe(),{t:n}=ue(),w=Ee(),p=ne(),{confirmDelete:j,isDialogVisible:x,isLoading:T,dialogTitle:A,dialogText:C,dialogIcon:b,dialogColor:y,confirmButtonText:a,cancelButtonText:i,handleConfirm:V,handleCancel:S}=qe(),{filter:L,getQueryParams:R,getStatusColor:Y,getStatusText:Z}=Xe(()=>q(),l=>console.error("Soft delete error:",l)),{fetchBoutiques:ee,setFilters:O,destroy:te}=p,{items:$,isLoading:r,pagination:d,totalItems:_}=Ne(p),Q=v(""),J=v(""),K=v("created_at"),de=v(!0),ae=v(!1),oe=v(!1),W=v(null),me=v("create");v(!1);const ce=g({get:()=>d.value.current_page,set:l=>{O({page:l}),q()}}),_e=g({get:()=>d.value.per_page,set:l=>{O({per_page:l,page:1}),q()}}),pe=g(()=>_.value),we=g(()=>$.value.filter(l=>l.statut==="actif").length),xe=g(()=>$.value.filter(l=>l.statut==="suspendu").length),Ce=g(()=>$.value.filter(l=>l.statut==="desactive").length),Se=g(()=>[{title:n("title_admin_dashboard"),to:"/admin"},{title:n("admin_boutiques_title"),active:!0}]),De=g(()=>[{title:n("admin_boutiques_name"),key:"nom",sortable:!0},{title:n("form_name"),key:"slug",sortable:!0},{title:n("admin_boutiques_status"),key:"statut",sortable:!0},{title:n("record_status"),key:"record_status",sortable:!1},{title:n("user_name"),key:"proprietaire",sortable:!1},{title:n("admin_boutiques_commission_rate"),key:"commission_par_defaut",sortable:!0},{title:n("table_actions"),key:"actions",sortable:!1}]),ke=g(()=>[{title:n("status_active"),value:"actif"},{title:n("status_inactive"),value:"suspendu"},{title:n("status_cancelled"),value:"desactive"}]),Ue=g(()=>[{title:n("common.sort.created_desc"),value:"created_at"},{title:n("common.sort.name_asc"),value:"nom"},{title:n("common.sort.status"),value:"statut"}]),q=()=>{ee()},P=()=>{O({q:Q.value,statut:J.value,sort:K.value,dir:de.value?"desc":"asc",page:1,...R()}),q()},Be=((l,c)=>{let u;return(...G)=>{clearTimeout(u),u=setTimeout(()=>l(...G),c)}})(()=>{P()},300),ze=()=>{Q.value="",J.value="",K.value="created_at",de.value=!0,P()},Te=l=>{W.value=l,me.value="edit",ae.value=!0},Fe=l=>{W.value=l,oe.value=!0},Ie=l=>{switch(l){case"actif":return"success";case"suspendu":return"warning";case"desactive":return"error";default:return"default"}},je=l=>{const c=["primary","secondary","success","info","warning","error"],u=l.length%c.length;return c[u]},Ae=l=>l.split(" ").map(c=>c[0]).join("").toUpperCase().substring(0,2);return Me(()=>{if(w.isInitialized)q();else{const l=ge(()=>w.isInitialized,c=>{c&&(q(),l())})}}),(l,c)=>(D(),Re("div",It,[e(Je,{items:Se.value,title:l.$t("admin_boutiques_title")},null,8,["items","title"]),e(B,null,{default:t(()=>[e(m,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(k,{class:"text-center"},{default:t(()=>[e(U,null,{default:t(()=>[e(E,{icon:"tabler-building-store",size:"48",class:"mb-4 text-primary"}),o("div",jt,s(pe.value),1),o("div",At,s(l.$t("admin_boutiques_title")),1)]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(k,{class:"text-center"},{default:t(()=>[e(U,null,{default:t(()=>[e(E,{icon:"tabler-check-circle",size:"48",class:"mb-4 text-success"}),o("div",Lt,s(we.value),1),o("div",Ot,s(l.$t("admin_boutiques_filter_status_active")),1)]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(k,{class:"text-center"},{default:t(()=>[e(U,null,{default:t(()=>[e(E,{icon:"tabler-pause-circle",size:"48",class:"mb-4 text-warning"}),o("div",Pt,s(xe.value),1),o("div",Et,s(l.$t("admin_boutiques_filter_status_inactive")),1)]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(k,{class:"text-center"},{default:t(()=>[e(U,null,{default:t(()=>[e(E,{icon:"tabler-x-circle",size:"48",class:"mb-4 text-error"}),o("div",Nt,s(Ce.value),1),o("div",Mt,s(l.$t("admin_boutiques_filter_status_pending")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(re,{class:"d-flex align-center justify-space-between flex-wrap gap-4"},{default:t(()=>[o("span",null,s(l.$t("admin_boutiques_list_title")),1),e(z,{color:"primary","prepend-icon":"tabler-plus",onClick:c[0]||(c[0]=u=>f(I).push({name:"admin-boutiques-create"}))},{default:t(()=>[h(s(l.$t("admin_boutiques_create")),1)]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(B,{class:"mb-4"},{default:t(()=>[e(m,{cols:"12",md:"3"},{default:t(()=>[e(N,{modelValue:Q.value,"onUpdate:modelValue":c[1]||(c[1]=u=>Q.value=u),label:l.$t("action_search"),placeholder:l.$t("admin_boutiques_search_placeholder"),"prepend-inner-icon":"tabler-search",clearable:"",variant:"outlined",density:"compact",onInput:f(Be)},null,8,["modelValue","label","placeholder","onInput"])]),_:1}),e(m,{cols:"12",md:"2"},{default:t(()=>[e(le,{modelValue:J.value,"onUpdate:modelValue":[c[2]||(c[2]=u=>J.value=u),P],items:ke.value,label:l.$t("admin_boutiques_status"),variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","label"])]),_:1}),e(m,{cols:"12",md:"2"},{default:t(()=>[e(Ze,{modelValue:f(L),"onUpdate:modelValue":[c[3]||(c[3]=u=>Qe(L)?L.value=u:null),P]},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"3"},{default:t(()=>[e(le,{modelValue:K.value,"onUpdate:modelValue":[c[4]||(c[4]=u=>K.value=u),P],items:Ue.value,label:l.$t("admin_boutiques_sort_by"),variant:"outlined",density:"compact"},null,8,["modelValue","items","label"])]),_:1}),e(m,{cols:"12",md:"2"},{default:t(()=>[e(z,{variant:"outlined",color:"secondary",onClick:ze},{default:t(()=>[h(s(l.$t("action_reset")),1)]),_:1})]),_:1})]),_:1}),e(et,{"items-per-page":_e.value,"onUpdate:itemsPerPage":c[5]||(c[5]=u=>_e.value=u),page:ce.value,"onUpdate:page":c[6]||(c[6]=u=>ce.value=u),headers:De.value,items:f($),"items-length":pe.value,loading:f(r),"item-value":"id",class:"elevation-1"},{"item.statut":t(({item:u})=>[e(X,{color:Ie(u.statut),size:"small",variant:"elevated"},{default:t(()=>[h(s(l.$t(`admin_boutiques_filter_status_${u.statut==="actif"?"active":u.statut==="suspendu"?"inactive":"pending"}`)),1)]),_:2},1032,["color"])]),"item.record_status":t(({item:u})=>[e(X,{color:f(Y)(u),size:"small",variant:"elevated"},{default:t(()=>[h(s(f(Z)(u)),1)]),_:2},1032,["color"])]),"item.proprietaire":t(({item:u})=>{var G,fe,ve;return[o("div",Rt,[e($e,{color:je(((G=u.proprietaire)==null?void 0:G.nom_complet)||"Unknown"),size:"32"},{default:t(()=>{var be;return[o("span",Qt,s(Ae(((be=u.proprietaire)==null?void 0:be.nom_complet)||"UK")),1)]}),_:2},1032,["color"]),o("div",null,[o("div",Jt,s(((fe=u.proprietaire)==null?void 0:fe.nom_complet)||"N/A"),1),o("div",Kt,s(((ve=u.proprietaire)==null?void 0:ve.email)||""),1)])])]}),"item.commission_par_defaut":t(({item:u})=>[o("span",Wt,s(u.commission_par_defaut)+"%",1)]),"item.actions":t(({item:u})=>[e(Ye,{item:u,"entity-name":"boutique","api-endpoint":"/admin/boutiques","item-name-field":"nom",onDeleted:q,onRestored:q,onPermanentlyDeleted:q,onEdit:Te,onView:Fe},null,8,["item"])]),loading:t(()=>[e(tt,{type:"table-row@10"})]),"no-data":t(()=>[o("div",Gt,[e(E,{icon:"tabler-building-store",size:"64",class:"mb-4",color:"disabled"}),o("h6",Ht,s(l.$t("admin_boutiques_no_results")),1),o("p",Xt,s(l.$t("try_adjusting_search")),1)])]),_:2},1032,["items-per-page","page","headers","items","items-length","loading"])]),_:1})]),_:1}),e(at,{modelValue:ae.value,"onUpdate:modelValue":c[7]||(c[7]=u=>ae.value=u),mode:me.value,boutique:W.value,onSaved:q},null,8,["modelValue","mode","boutique"]),e(Ft,{modelValue:oe.value,"onUpdate:modelValue":c[8]||(c[8]=u=>oe.value=u),boutique:W.value},null,8,["modelValue","boutique"]),e(He,{"is-dialog-visible":f(x),"is-loading":f(T),"dialog-title":f(A),"dialog-text":f(C),"dialog-icon":f(b),"dialog-color":f(y),"confirm-button-text":f(a),"cancel-button-text":f(i),onConfirm:f(V),onCancel:f(S)},null,8,["is-dialog-visible","is-loading","dialog-title","dialog-text","dialog-icon","dialog-color","confirm-button-text","cancel-button-text","onConfirm","onCancel"])]))}});export{Ma as default};
