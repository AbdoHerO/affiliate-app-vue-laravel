import{d as w,r as c,c as u,b as d,e as o,g as s,t as r,f as p,h as C,m as k,ac as l,F as V,j as N,v as b,b6 as F,ba as $}from"./main-0h7RfoM1.js";import{u as B}from"./useApi-Bh3KIVij.js";import"./useNotifications-QM5aCJtM.js";import{b as f,V as g}from"./VCard-BJO62jXa.js";import{V as h}from"./VCardText-DBDe3l6V.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createSimpleFunctional-CRjW3p8V.js";import"./VAvatar-BcyggOHV.js";import"./VImg-D8VstP0L.js";const I={class:"pa-6"},L={class:"d-flex flex-wrap gap-3 mb-4"},j=w({__name:"test-401",setup(D){const a=c(!1),i=c([]),t=n=>{i.value.push(`${new Date().toLocaleTimeString()}: ${n}`)},m=async()=>{a.value=!0,t("Testing Axios 401 handling...");try{await F.get("/test-401-endpoint"),t("❌ Axios: No error thrown")}catch{t("✅ Axios: 401 error caught and handled")}finally{a.value=!1}},_=async()=>{a.value=!0,t("Testing $api 401 handling...");try{await $("/test-401-endpoint"),t("❌ $api: No error thrown")}catch{t("✅ $api: 401 error caught and handled")}finally{a.value=!1}},v=async()=>{a.value=!0,t("Testing useApi 401 handling...");try{const{data:n,error:e}=await B("/test-401-endpoint").json();e.value?t("✅ useApi: 401 error caught and handled"):t("❌ useApi: No error thrown")}catch{t("✅ useApi: 401 error caught and handled")}finally{a.value=!1}},y=async()=>{a.value=!0,t("Testing fetch 401 handling...");try{(await fetch("/api/test-401-endpoint",{headers:{Authorization:"Bearer invalid-token"}})).status===401?t("✅ Fetch: 401 response detected"):t("❌ Fetch: No 401 response")}catch{t("✅ Fetch: 401 error caught and handled")}finally{a.value=!1}},x=()=>{i.value=[]};return(n,e)=>(d(),u("div",I,[o(g,null,{default:s(()=>[o(f,null,{default:s(()=>e[0]||(e[0]=[r(" 🧪 Test 401 Authentication Handling ")])),_:1,__:[0]}),o(h,null,{default:s(()=>[e[7]||(e[7]=p("p",{class:"mb-4"}," This page tests the 401 authentication handling across different API clients. Each test should automatically logout and redirect to login when a 401 error occurs. ",-1)),p("div",L,[o(l,{color:"primary",loading:a.value,onClick:m},{default:s(()=>e[1]||(e[1]=[r(" Test Axios 401 ")])),_:1,__:[1]},8,["loading"]),o(l,{color:"secondary",loading:a.value,onClick:_},{default:s(()=>e[2]||(e[2]=[r(" Test $api 401 ")])),_:1,__:[2]},8,["loading"]),o(l,{color:"info",loading:a.value,onClick:v},{default:s(()=>e[3]||(e[3]=[r(" Test useApi 401 ")])),_:1,__:[3]},8,["loading"]),o(l,{color:"warning",loading:a.value,onClick:y},{default:s(()=>e[4]||(e[4]=[r(" Test Fetch 401 ")])),_:1,__:[4]},8,["loading"]),o(l,{color:"error",variant:"outlined",onClick:x},{default:s(()=>e[5]||(e[5]=[r(" Clear Results ")])),_:1,__:[5]})]),i.value.length>0?(d(),C(g,{key:0,variant:"outlined"},{default:s(()=>[o(f,{class:"text-h6"},{default:s(()=>e[6]||(e[6]=[r(" Test Results ")])),_:1,__:[6]}),o(h,null,{default:s(()=>[(d(!0),u(V,null,N(i.value,(A,T)=>(d(),u("div",{key:T,class:"mb-1 font-mono text-sm"},b(A),1))),128))]),_:1})]),_:1})):k("",!0)]),_:1,__:[7]})]),_:1})]))}}),K=R(j,[["__scopeId","data-v-39766fce"]]);export{K as default};
