import{d as Ee,aL as Pe,r as V,D as $e,w as ae,c as D,o as w,b as a,f as r,e as u,t as n,m as e,ac as x,s as m,aP as je,g as te,l as oe,F as Fe,i as Ae,az as A,aV as Be,aU as se}from"./main-uLG9IIeX.js";import{u as Le}from"./useAuth-CtoFjAb0.js";import{u as Ne}from"./useNotifications-DDBS_wPD.js";import{useQuickConfirm as Re}from"./useConfirmAction-C-KKQTYr.js";import{C as Ie}from"./ConfirmActionDialog-uPYgr6qv.js";import{u as B}from"./useApi-Bt_X5NBj.js";import{u as Oe}from"./useFormErrors-XAfRt52c.js";import{P as re}from"./ProfileImageUpload-D2Nqw0CH.js";import{g as ue}from"./imageUtils-CDpwA2VM.js";import{d as Je,S as Me}from"./SoftDeleteActions-B5sb4K8Z.js";import{S as Qe}from"./SoftDeleteFilter-SyS9dIaT.js";import{V as q}from"./VCardText-BZtszuIK.js";import{V as z,b as O,c as J}from"./VCard-CB1gT6RB.js";import{V as L,a as p}from"./VRow-aGfXYx3U.js";import{V as h}from"./VTextField-Dxeq5kx5.js";import{V as k}from"./VSelect-sWnAtot-.js";import{V as Ge}from"./VTable-0U-NvIH3.js";import{V as ne}from"./VAvatar-bHPDEsYY.js";import{V as ie}from"./VImg-BS6_svHJ.js";import{V as U}from"./VChip-B84WcmDa.js";import{V as He}from"./VPagination-DYW6O4lq.js";import{V as de}from"./VForm-C9FiqBHN.js";import{V as me}from"./VTextarea-BuIc6d95.js";import{V as M}from"./VSpacer-BCNmCEP9.js";import{V as Q}from"./VDialog-DU1pBIct.js";import{V as Ke}from"./VSnackbar-BT89hKev.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ActionIcon-Cq1cTKuI.js";import"./VTooltip-Ce3bfmSx.js";import"./forwardRefs-Dv_T9a_w.js";import"./lazy-CjF3Yiep.js";import"./createSimpleFunctional-DugzUcbB.js";/* empty css              */import"./VField-CfH1YcVv.js";import"./VList-uZDByhc2.js";import"./ssrBoot-BPhRU-mF.js";import"./VDivider-UqGR4x4D.js";import"./dialog-transition-2hF0ajsQ.js";import"./VMenu-DP1p-55V.js";import"./VCheckboxBtn-CogF2AUK.js";const We={class:"d-flex justify-space-between align-center"},Xe={class:"text-h4 mb-2"},Ye={class:"text-body-1 mb-0"},Ze={class:"d-flex align-center"},el={style:{"font-family":"monospace","font-size":"0.875rem"}},ll={key:1,class:"text-center py-8"},al={class:"mt-4"},tl={key:2,class:"text-center py-8"},ol={class:"text-h6 mb-2"},sl={class:"text-body-2"},rl={key:3,class:"d-flex justify-center mt-4"},ul={class:"mb-3"},nl={class:"mb-3"},il={class:"mb-3"},dl={class:"mb-3"},ml={class:"mb-3"},pl={class:"mb-3"},cl={class:"d-flex align-center"},_l={class:"mb-3"},vl={style:{"font-family":"monospace"}},fl={class:"mb-3"},bl={class:"mb-3"},gl={class:"mb-3"},Vl={class:"mb-3"},na=Ee({__name:"users",setup(yl){const{hasPermission:pe}=Le(),{t:l}=Pe(),{showSuccess:G,showError:C,snackbar:T}=Ne(),{confirmCreate:ce,confirmUpdate:_e,confirmDelete:hl,isDialogVisible:ve,isLoading:fe,dialogTitle:be,dialogText:ge,dialogIcon:Ve,dialogColor:ye,confirmButtonText:he,cancelButtonText:ke,handleConfirm:we,handleCancel:xe}=Re(),{filter:j,getQueryParams:Ue,getStatusColor:Ce,getStatusText:Se}=Je(()=>g(b.value.current_page),d=>console.error("Soft delete error:",d)),N=V([]),y=V(!1),R=V(null),b=V({current_page:1,last_page:1,per_page:15,total:0}),f=V({search:"",role:"",statut:""}),F=V([]),I=[{title:l("all_status"),value:""},{title:l("active"),value:"actif"},{title:l("inactive"),value:"inactif"},{title:l("blocked"),value:"bloque"}],H=[{title:l("not_required"),value:"non_requis"},{title:l("pending"),value:"en_attente"},{title:l("approved"),value:"valide"},{title:l("rejected"),value:"refuse"}],E=V(!1),P=V(!1),$=V(!1),i=V(null),s=V({nom_complet:"",email:"",password:"",telephone:"",adresse:"",photo_profil:"",role:"",statut:"actif",kyc_statut:"non_requis",rib:"",bank_type:""}),{errors:c,set:K,clear:W}=Oe(),g=async(d=1)=>{try{y.value=!0,R.value=null;const t=new URLSearchParams({page:d.toString(),per_page:b.value.per_page.toString(),...Ue()});f.value.search&&t.set("search",f.value.search),f.value.role&&t.set("role",f.value.role),f.value.statut&&t.set("statut",f.value.statut);const o=`/admin/users?${t.toString()}`,{data:_,error:S}=await B(o);S.value?(R.value=S.value.message||l("failed_to_load_users"),C(l("failed_to_load_users")),console.error("Users fetch error:",S.value),S.value.status===401&&C(l("error_authentication_required"))):_.value&&(N.value=_.value.users.map(v=>{var le;return{id:String(v.id),nom_complet:v.nom_complet,email:v.email,telephone:v.telephone,adresse:v.adresse,photo_profil:v.photo_profil,roles:((le=v.roles)==null?void 0:le.map(Te=>Te.name))??[],statut:v.statut,email_verifie:v.email_verifie,kyc_statut:v.kyc_statut,rib:v.rib,bank_type:v.bank_type,created_at:v.created_at,updated_at:v.updated_at,deleted_at:v.deleted_at,permissions:v.permissions??[],remember_token:v.remember_token}}),b.value=_.value.pagination)}catch(t){R.value=t.message||l("failed_to_load_users"),C(l("failed_to_load_users")),console.error("Users fetch error:",t)}finally{y.value=!1}},De=async()=>{var d;try{const{data:t,error:o}=await B("/admin/users/roles/list");o.value?console.error("Roles fetch error:",o.value):(d=t.value)!=null&&d.roles&&(F.value=t.value.roles.map(_=>({title:_.name.charAt(0).toUpperCase()+_.name.slice(1),value:_.name})))}catch(t){console.error("Roles fetch error:",t)}},X=async()=>{if(await ce(l("user")))try{y.value=!0;const{data:t,error:o}=await B("/admin/users",{method:"POST",body:JSON.stringify({nom_complet:s.value.nom_complet,email:s.value.email,password:s.value.password,password_confirmation:s.value.password,telephone:s.value.telephone,adresse:s.value.adresse,photo_profil:s.value.photo_profil,role:s.value.role,statut:s.value.statut,kyc_statut:s.value.kyc_statut,rib:s.value.rib,bank_type:s.value.bank_type}),headers:{"Content-Type":"application/json"}});if(o.value)K(o.value.errors),C(o.value.message),console.error("Create user error:",o.value);else if(t.value){W(),E.value=!1;const _=s.value.nom_complet;Z(),await g(b.value.current_page),G(l("user_created_successfully",{name:_}))}}catch(t){C(t.message||l("failed_to_create_user")),console.error("Create user error:",t)}finally{y.value=!1}},Y=async()=>{if(!(!i.value||!await _e(l("user"),i.value.nom_complet)))try{y.value=!0;const t={nom_complet:s.value.nom_complet,email:s.value.email,telephone:s.value.telephone,adresse:s.value.adresse,photo_profil:s.value.photo_profil,role:s.value.role,statut:s.value.statut,kyc_statut:s.value.kyc_statut,rib:s.value.rib,bank_type:s.value.bank_type};s.value.password&&(t.password=s.value.password);const{data:o,error:_}=await B(`/admin/users/${i.value.id}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(_.value)K(_.value.errors),C(_.value.message),console.error("Update user error:",_.value);else if(o.value){W(),P.value=!1;const S=s.value.nom_complet;Z(),await g(b.value.current_page),G(l("user_updated_successfully",{name:S}))}}catch(t){C(t.message||l("failed_to_update_user")),console.error("Update user error:",t)}finally{y.value=!1}},Z=()=>{s.value={nom_complet:"",email:"",password:"",telephone:"",adresse:"",photo_profil:"",role:"",statut:"actif",kyc_statut:"non_requis",rib:"",bank_type:""},i.value=null},ee=d=>{i.value=d,s.value={nom_complet:d.nom_complet,email:d.email,password:"",telephone:d.telephone||"",adresse:d.adresse||"",photo_profil:d.photo_profil||"",role:d.roles[0]||"",statut:d.statut,kyc_statut:d.kyc_statut,rib:d.rib||"",bank_type:d.bank_type||""},P.value=!0},qe=d=>{i.value=d,$.value=!0},ze=()=>{f.value={search:"",role:"",statut:""},g(1)};return $e(async()=>{await Promise.all([g(),De()])}),ae(f,()=>{g(1)},{deep:!0}),ae(j,()=>{g(1)}),(d,t)=>(w(),D("div",null,[a(z,{class:"mb-6"},{default:r(()=>[a(q,null,{default:r(()=>[u("div",We,[u("div",null,[u("h2",Xe,n(e(l)("user_management")),1),u("p",Ye,n(e(l)("manage_all_users")),1)]),a(x,{color:"primary","prepend-icon":"tabler-plus",disabled:!e(pe)("manage users"),onClick:t[0]||(t[0]=o=>E.value=!0)},{default:r(()=>[m(n(e(l)("add_user")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),a(z,{class:"mb-6"},{default:r(()=>[a(q,null,{default:r(()=>[a(L,null,{default:r(()=>[a(p,{cols:"12",md:"3"},{default:r(()=>[a(h,{modelValue:f.value.search,"onUpdate:modelValue":t[1]||(t[1]=o=>f.value.search=o),placeholder:e(l)("search_users"),"prepend-inner-icon":"tabler-search",clearable:""},null,8,["modelValue","placeholder"])]),_:1}),a(p,{cols:"12",md:"2"},{default:r(()=>[a(k,{modelValue:f.value.role,"onUpdate:modelValue":t[2]||(t[2]=o=>f.value.role=o),items:[{title:e(l)("admin_users_all_roles"),value:""},...F.value],placeholder:e(l)("admin_users_filter_by_role")},null,8,["modelValue","items","placeholder"])]),_:1}),a(p,{cols:"12",md:"2"},{default:r(()=>[a(k,{modelValue:f.value.statut,"onUpdate:modelValue":t[3]||(t[3]=o=>f.value.statut=o),items:I,placeholder:e(l)("filter_by_status")},null,8,["modelValue","placeholder"])]),_:1}),a(p,{cols:"12",md:"2"},{default:r(()=>[a(Qe,{modelValue:e(j),"onUpdate:modelValue":[t[4]||(t[4]=o=>je(j)?j.value=o:null),t[5]||(t[5]=o=>g(1))]},null,8,["modelValue"])]),_:1}),a(p,{cols:"12",md:"3"},{default:r(()=>[a(x,{block:"",variant:"outlined",onClick:ze},{default:r(()=>[m(n(e(l)("clear")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(z,null,{default:r(()=>[a(q,null,{default:r(()=>[!y.value&&N.value.length?(w(),te(Ge,{key:0},{default:r(()=>[u("thead",null,[u("tr",null,[u("th",null,n(e(l)("profile_image")),1),u("th",null,n(e(l)("name")),1),u("th",null,n(e(l)("email")),1),u("th",null,n(e(l)("phone")),1),u("th",null,n(e(l)("bank_type")),1),u("th",null,n(e(l)("rib")),1),u("th",null,n(e(l)("role")),1),u("th",null,n(e(l)("status")),1),u("th",null,n(e(l)("record_status")),1),u("th",null,n(e(l)("kyc_status")),1),u("th",null,n(e(l)("created")),1),u("th",null,n(e(l)("actions")),1)])]),u("tbody",null,[(w(!0),D(Fe,null,Ae(N.value,o=>(w(),D("tr",{key:o.id},[u("td",null,[a(ne,{size:"40"},{default:r(()=>[a(ie,{src:e(ue)(o.photo_profil),alt:o.nom_complet,cover:""},null,8,["src","alt"])]),_:2},1024)]),u("td",null,n(o.nom_complet),1),u("td",null,n(o.email),1),u("td",null,n(o.telephone||"-"),1),u("td",null,[u("div",Ze,[a(A,{icon:"tabler-building-bank",size:"16",class:"me-2"}),m(" "+n(o.bank_type?o.bank_type:e(l)("bank_not_provided")),1)])]),u("td",null,[u("div",el,n(o.rib?o.rib:e(l)("bank_not_provided")),1)]),u("td",null,[a(U,{color:o.roles[0]==="admin"?"error":"primary",size:"small"},{default:r(()=>[m(n(o.roles[0]||e(l)("no_role")),1)]),_:2},1032,["color"])]),u("td",null,[a(U,{color:o.statut==="actif"?"success":o.statut==="bloque"?"error":"warning",size:"small"},{default:r(()=>[m(n(o.statut),1)]),_:2},1032,["color"])]),u("td",null,[a(U,{color:e(Ce)(o),size:"small",variant:"elevated"},{default:r(()=>[m(n(e(Se)(o)),1)]),_:2},1032,["color"])]),u("td",null,[a(U,{color:o.kyc_statut==="valide"?"success":o.kyc_statut==="refuse"?"error":"warning",size:"small"},{default:r(()=>[m(n(o.kyc_statut),1)]),_:2},1032,["color"])]),u("td",null,n(new Date(o.created_at).toLocaleDateString()),1),u("td",null,[a(Me,{item:o,"entity-name":"user","api-endpoint":"/admin/users","item-name-field":"nom_complet",onDeleted:t[6]||(t[6]=_=>g(b.value.current_page)),onRestored:t[7]||(t[7]=_=>g(b.value.current_page)),onPermanentlyDeleted:t[8]||(t[8]=_=>g(b.value.current_page)),onEdit:ee,onView:qe},null,8,["item"])])]))),128))])]),_:1})):y.value?(w(),D("div",ll,[a(Be,{indeterminate:"",color:"primary"}),u("p",al,n(e(l)("loading_users"))+"...",1)])):(w(),D("div",tl,[a(A,{icon:"tabler-users",size:"64",class:"mb-4",color:"disabled"}),u("h6",ol,n(e(l)("no_users_found")),1),u("p",sl,n(e(l)("try_adjusting_search")),1)])),b.value.total>b.value.per_page?(w(),D("div",rl,[a(He,{modelValue:b.value.current_page,"onUpdate:modelValue":[t[9]||(t[9]=o=>b.value.current_page=o),g],length:b.value.last_page},null,8,["modelValue","length"])])):oe("",!0)]),_:1})]),_:1}),a(Q,{modelValue:E.value,"onUpdate:modelValue":t[22]||(t[22]=o=>E.value=o),"max-width":"600"},{default:r(()=>[a(z,null,{default:r(()=>[a(O,null,{default:r(()=>[m(n(e(l)("create_new_user")),1)]),_:1}),a(q,null,{default:r(()=>[a(de,{onSubmit:se(X,["prevent"])},{default:r(()=>[a(h,{modelValue:s.value.nom_complet,"onUpdate:modelValue":t[10]||(t[10]=o=>s.value.nom_complet=o),label:e(l)("full_name"),placeholder:e(l)("enter_full_name"),"error-messages":e(c).nom_complet,required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(h,{modelValue:s.value.email,"onUpdate:modelValue":t[11]||(t[11]=o=>s.value.email=o),label:e(l)("email"),placeholder:e(l)("enter_email"),"error-messages":e(c).email,type:"email",required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(h,{modelValue:s.value.password,"onUpdate:modelValue":t[12]||(t[12]=o=>s.value.password=o),label:e(l)("password"),placeholder:e(l)("enter_password"),"error-messages":e(c).password,type:"password",required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(h,{modelValue:s.value.telephone,"onUpdate:modelValue":t[13]||(t[13]=o=>s.value.telephone=o),label:e(l)("phone"),placeholder:e(l)("enter_phone"),"error-messages":e(c).telephone,class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(me,{modelValue:s.value.adresse,"onUpdate:modelValue":t[14]||(t[14]=o=>s.value.adresse=o),label:e(l)("address"),placeholder:e(l)("enter_address"),"error-messages":e(c).adresse,rows:"3",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(L,{class:"mb-4"},{default:r(()=>[a(p,{cols:"12",md:"6"},{default:r(()=>[a(k,{modelValue:s.value.bank_type,"onUpdate:modelValue":t[15]||(t[15]=o=>s.value.bank_type=o),label:e(l)("bank_type"),placeholder:e(l)("select_bank"),"error-messages":e(c).bank_type,items:[{value:"attijari",text:e(l)("banks.attijariwafa")},{value:"populaire",text:e(l)("banks.banque_populaire")},{value:"bmce",text:e(l)("banks.bmce_bank")},{value:"bmci",text:e(l)("banks.bmci")},{value:"cih",text:e(l)("banks.cih_bank")},{value:"credit_agricole",text:e(l)("banks.credit_agricole")},{value:"credit_maroc",text:e(l)("banks.credit_du_maroc")},{value:"societe_generale",text:e(l)("banks.societe_generale")},{value:"autre",text:e(l)("other")}],clearable:""},null,8,["modelValue","label","placeholder","error-messages","items"])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[a(h,{modelValue:s.value.rib,"onUpdate:modelValue":t[16]||(t[16]=o=>s.value.rib=o),label:e(l)("rib"),placeholder:e(l)("enter_rib"),"error-messages":e(c).rib,style:{"font-family":"monospace"}},null,8,["modelValue","label","placeholder","error-messages"])]),_:1})]),_:1}),a(re,{modelValue:s.value.photo_profil,"onUpdate:modelValue":t[17]||(t[17]=o=>s.value.photo_profil=o),label:e(l)("profile_image"),"error-messages":e(c).photo_profil,class:"mb-4"},null,8,["modelValue","label","error-messages"]),a(k,{modelValue:s.value.role,"onUpdate:modelValue":t[18]||(t[18]=o=>s.value.role=o),items:F.value,label:e(l)("role"),placeholder:e(l)("select_role"),"error-messages":e(c).role,required:"",class:"mb-4"},null,8,["modelValue","items","label","placeholder","error-messages"]),a(k,{modelValue:s.value.statut,"onUpdate:modelValue":t[19]||(t[19]=o=>s.value.statut=o),items:I.slice(1),label:e(l)("status"),placeholder:e(l)("select_status"),required:"",class:"mb-4"},null,8,["modelValue","items","label","placeholder"]),a(k,{modelValue:s.value.kyc_statut,"onUpdate:modelValue":t[20]||(t[20]=o=>s.value.kyc_statut=o),items:H,label:e(l)("kyc_status"),placeholder:e(l)("select_kyc_status"),required:""},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1}),a(J,null,{default:r(()=>[a(M),a(x,{variant:"outlined",type:"button",onClick:t[21]||(t[21]=o=>E.value=!1)},{default:r(()=>[m(n(e(l)("cancel")),1)]),_:1}),a(x,{color:"primary",type:"button",loading:y.value,onClick:X},{default:r(()=>[m(n(e(l)("create_user")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Q,{modelValue:P.value,"onUpdate:modelValue":t[34]||(t[34]=o=>P.value=o),"max-width":"600"},{default:r(()=>[a(z,null,{default:r(()=>[a(O,null,{default:r(()=>[m(n(e(l)("edit_user")),1)]),_:1}),a(q,null,{default:r(()=>[a(de,{onSubmit:se(Y,["prevent"])},{default:r(()=>[a(h,{modelValue:s.value.nom_complet,"onUpdate:modelValue":t[23]||(t[23]=o=>s.value.nom_complet=o),label:e(l)("full_name"),placeholder:e(l)("enter_full_name"),"error-messages":e(c).nom_complet,required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(h,{modelValue:s.value.email,"onUpdate:modelValue":t[24]||(t[24]=o=>s.value.email=o),label:e(l)("email"),placeholder:e(l)("enter_email"),"error-messages":e(c).email,type:"email",required:"",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(h,{modelValue:s.value.telephone,"onUpdate:modelValue":t[25]||(t[25]=o=>s.value.telephone=o),label:e(l)("phone"),placeholder:e(l)("enter_phone"),"error-messages":e(c).telephone,class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(me,{modelValue:s.value.adresse,"onUpdate:modelValue":t[26]||(t[26]=o=>s.value.adresse=o),label:e(l)("address"),placeholder:e(l)("enter_address"),"error-messages":e(c).adresse,rows:"3",class:"mb-4"},null,8,["modelValue","label","placeholder","error-messages"]),a(L,{class:"mb-4"},{default:r(()=>[a(p,{cols:"12",md:"6"},{default:r(()=>[a(k,{modelValue:s.value.bank_type,"onUpdate:modelValue":t[27]||(t[27]=o=>s.value.bank_type=o),label:e(l)("bank_type"),placeholder:e(l)("select_bank"),"error-messages":e(c).bank_type,items:[{value:"attijari",text:e(l)("banks.attijariwafa")},{value:"populaire",text:e(l)("banks.banque_populaire")},{value:"bmce",text:e(l)("banks.bmce_bank")},{value:"bmci",text:e(l)("banks.bmci")},{value:"cih",text:e(l)("banks.cih_bank")},{value:"credit_agricole",text:e(l)("banks.credit_agricole")},{value:"credit_maroc",text:e(l)("banks.credit_du_maroc")},{value:"societe_generale",text:e(l)("banks.societe_generale")},{value:"autre",text:e(l)("other")}],clearable:""},null,8,["modelValue","label","placeholder","error-messages","items"])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[a(h,{modelValue:s.value.rib,"onUpdate:modelValue":t[28]||(t[28]=o=>s.value.rib=o),label:e(l)("rib"),placeholder:e(l)("enter_rib"),"error-messages":e(c).rib,style:{"font-family":"monospace"}},null,8,["modelValue","label","placeholder","error-messages"])]),_:1})]),_:1}),a(re,{modelValue:s.value.photo_profil,"onUpdate:modelValue":t[29]||(t[29]=o=>s.value.photo_profil=o),label:e(l)("profile_image"),"error-messages":e(c).photo_profil,class:"mb-4"},null,8,["modelValue","label","error-messages"]),a(k,{modelValue:s.value.role,"onUpdate:modelValue":t[30]||(t[30]=o=>s.value.role=o),items:F.value,label:e(l)("role"),placeholder:e(l)("select_role"),"error-messages":e(c).role,required:"",class:"mb-4"},null,8,["modelValue","items","label","placeholder","error-messages"]),a(k,{modelValue:s.value.statut,"onUpdate:modelValue":t[31]||(t[31]=o=>s.value.statut=o),items:I.slice(1),label:e(l)("status"),placeholder:e(l)("select_status"),required:"",class:"mb-4"},null,8,["modelValue","items","label","placeholder"]),a(k,{modelValue:s.value.kyc_statut,"onUpdate:modelValue":t[32]||(t[32]=o=>s.value.kyc_statut=o),items:H,label:e(l)("kyc_status"),placeholder:e(l)("select_kyc_status"),required:""},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1}),a(J,null,{default:r(()=>[a(M),a(x,{variant:"outlined",type:"button",onClick:t[33]||(t[33]=o=>P.value=!1)},{default:r(()=>[m(n(e(l)("cancel")),1)]),_:1}),a(x,{color:"primary",type:"button",loading:y.value,onClick:Y},{default:r(()=>[m(n(e(l)("update_user")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Q,{modelValue:$.value,"onUpdate:modelValue":t[37]||(t[37]=o=>$.value=o),"max-width":"600"},{default:r(()=>[a(z,null,{default:r(()=>[a(O,{class:"d-flex align-center"},{default:r(()=>[a(A,{icon:"tabler-eye",class:"me-2"}),m(" "+n(e(l)("view_user")),1)]),_:1}),a(q,null,{default:r(()=>[i.value?(w(),te(L,{key:0},{default:r(()=>[a(p,{cols:"12",class:"text-center mb-4"},{default:r(()=>[a(ne,{size:"120"},{default:r(()=>[a(ie,{src:e(ue)(i.value.photo_profil),alt:i.value.nom_complet,cover:""},null,8,["src","alt"])]),_:1})]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",ul,[u("strong",null,n(e(l)("full_name"))+":",1),u("div",null,n(i.value.nom_complet),1)])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",nl,[u("strong",null,n(e(l)("email"))+":",1),u("div",null,n(i.value.email),1)])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",il,[u("strong",null,n(e(l)("phone"))+":",1),u("div",null,n(i.value.telephone||"-"),1)])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",dl,[u("strong",null,n(e(l)("role"))+":",1),a(U,{color:i.value.roles[0]==="admin"?"error":"primary",size:"small"},{default:r(()=>[m(n(i.value.roles[0]||e(l)("no_role")),1)]),_:1},8,["color"])])]),_:1}),a(p,{cols:"12"},{default:r(()=>[u("div",ml,[u("strong",null,n(e(l)("address"))+":",1),u("div",null,n(i.value.adresse||"-"),1)])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",pl,[u("strong",null,n(e(l)("bank_type"))+":",1),u("div",cl,[a(A,{icon:"tabler-building-bank",size:"16",class:"me-2"}),m(" "+n(i.value.bank_type||e(l)("bank_not_provided")),1)])])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",_l,[u("strong",null,n(e(l)("rib"))+":",1),u("div",vl,n(i.value.rib||e(l)("bank_not_provided")),1)])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",fl,[u("strong",null,n(e(l)("status"))+":",1),a(U,{color:i.value.statut==="actif"?"success":i.value.statut==="bloque"?"error":"warning",size:"small"},{default:r(()=>[m(n(i.value.statut),1)]),_:1},8,["color"])])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",bl,[u("strong",null,n(e(l)("kyc_status"))+":",1),a(U,{color:i.value.kyc_statut==="valide"?"success":i.value.kyc_statut==="refuse"?"error":"warning",size:"small"},{default:r(()=>[m(n(i.value.kyc_statut),1)]),_:1},8,["color"])])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",gl,[u("strong",null,n(e(l)("email_verified"))+":",1),a(U,{color:i.value.email_verifie?"success":"warning",size:"small"},{default:r(()=>[m(n(i.value.email_verifie?e(l)("yes"):e(l)("no")),1)]),_:1},8,["color"])])]),_:1}),a(p,{cols:"12",md:"6"},{default:r(()=>[u("div",Vl,[u("strong",null,n(e(l)("created"))+":",1),u("div",null,n(new Date(i.value.created_at).toLocaleDateString()),1)])]),_:1})]),_:1})):oe("",!0)]),_:1}),a(J,null,{default:r(()=>[a(M),a(x,{variant:"outlined",onClick:t[35]||(t[35]=o=>$.value=!1)},{default:r(()=>[m(n(e(l)("close")),1)]),_:1}),a(x,{color:"primary",onClick:t[36]||(t[36]=o=>{ee(i.value),$.value=!1})},{default:r(()=>[m(n(e(l)("edit")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Ke,{modelValue:e(T).show,"onUpdate:modelValue":t[38]||(t[38]=o=>e(T).show=o),color:e(T).color,timeout:e(T).timeout,location:"top end"},{default:r(()=>[m(n(e(T).message),1)]),_:1},8,["modelValue","color","timeout"]),a(Ie,{"is-dialog-visible":e(ve),"is-loading":e(fe),"dialog-title":e(be),"dialog-text":e(ge),"dialog-icon":e(Ve),"dialog-color":e(ye),"confirm-button-text":e(he),"cancel-button-text":e(ke),onConfirm:e(we),onCancel:e(xe)},null,8,["is-dialog-visible","is-loading","dialog-title","dialog-text","dialog-icon","dialog-color","confirm-button-text","cancel-button-text","onConfirm","onCancel"])]))}});export{na as default};
