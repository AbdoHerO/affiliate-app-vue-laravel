import{d as X,aL as Y,b7 as oe,r as V,V as x,w as Q,c as F,b as v,f as s,h as P,m as B,g as t,t as f,v as a,e,az as A,ac as M,n as j,F as be,j as Ve,aW as xe,ai as $e,b8 as Ce,o as ke,aP as we,q as Se}from"./main-DEzoUo6n.js";import{u as se}from"./categories-CSoT2jwu.js";import{_ as ze}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-7m1-yvQE.js";import{useQuickConfirm as ie}from"./useConfirmAction-lawnJ6WL.js";import{V as q}from"./VField-BrxQSdNw.js";import{V as re}from"./VImg-Dcm3Nb79.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as O,b as ee,c as ne}from"./VCard-BQBmQiQJ.js";import{V as H}from"./VDivider-96JDmIpb.js";import{V as E}from"./VCardText-DtKfeQ8i.js";import{V as Ue}from"./VForm-rtEvNB7m.js";import{V as J,a as m}from"./VRow-CCKjjrNU.js";import{V as K}from"./VTextField-BiqUvfe6.js";import{V as Fe}from"./VTextarea-BfvN6PTe.js";import{V as Te}from"./VSwitch-B3ZPFjWQ.js";import{V as de}from"./VDialog-SdVxorIC.js";import{V as W}from"./VChip-BLx6lUDe.js";import{b as Ie,S as Be}from"./SoftDeleteActions-BuccLWgy.js";import{S as je}from"./SoftDeleteFilter-DxhBbGin.js";import{V as ae}from"./VSelect-DRK_p5uX.js";import{V as Me}from"./VDataTable-CY4RDaZO.js";import{V as Re}from"./VTooltip-CxfTaIey.js";import{V as le}from"./VAvatar-DcdpS4jo.js";import"./VBreadcrumbs-GZoY2rRV.js";import"./forwardRefs-BYcTBJDs.js";import"./createSimpleFunctional-DUhC6iZd.js";/* empty css              */import"./VCheckboxBtn-ispl65Ef.js";import"./VOverlay-D7sMErQR.js";import"./lazy-BPEwf1-U.js";import"./dialog-transition-PfMbSZsR.js";import"./useApi-czTV0ZEy.js";import"./useNotifications-Bc6GUAmT.js";import"./ActionIcon-Bo-k4-Vl.js";import"./VList-PlS4cpk2.js";import"./ssrBoot-BNMsj90G.js";import"./VMenu-CAJpv2vQ.js";import"./VPagination-BwetZgLf.js";import"./VTable-pKKqnQcU.js";import"./filter-C0NlBkaG.js";const qe={class:"category-image-upload"},Ae={key:0,class:"text-error"},Pe={class:"d-flex align-center gap-4"},Le={key:0,class:"flex-shrink-0"},Oe={key:1,class:"flex-shrink-0 d-flex align-center justify-center rounded border",style:{width:"80px",height:"80px","background-color":"var(--v-theme-surface-variant)"}},Ee={class:"flex-grow-1"},Ne={class:"d-flex gap-2 mb-2"},Qe={class:"text-caption text-disabled"},We={key:0,class:"text-caption text-success mt-1"},Ge={key:1,class:"text-caption text-primary mt-1"},He={key:1,class:"text-error text-caption mt-1"},Je=X({__name:"CategoryImageUpload",props:{modelValue:{},label:{default:"Category Image"},placeholder:{default:"Choose category image"},errorMessages:{},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(N,{emit:y}){const d=N,D=y,{t:n}=Y(),T=oe(),k=V(),w=V(null),r=V(""),h=V(!1),l=x(()=>!!r.value||!!d.modelValue),_=x(()=>r.value||d.modelValue||"");Q(()=>d.modelValue,u=>{u&&u!==r.value&&(r.value=u,w.value=null)},{immediate:!0});const S=()=>{var u;(u=k.value)==null||u.click()},I=async u=>{var o;const p=(o=u.target.files)==null?void 0:o[0];if(!p)return;if(!p.type.startsWith("image/")){console.error("Please select an image file");return}if(p.size>5*1024*1024){console.error("File size must be less than 5MB");return}w.value=p;const z=new FileReader;z.onload=b=>{var g;r.value=(g=b.target)==null?void 0:g.result},z.readAsDataURL(p),await U(p)},U=async u=>{h.value=!0;try{const $=new FormData;$.append("category_image",u);const p=await fetch("/api/upload/category-image",{method:"POST",body:$,headers:{Authorization:`Bearer ${T.token}`,Accept:"application/json"}});if(!p.ok)throw new Error(`Upload failed: ${p.statusText}`);const z=await p.json();if(z.success)D("update:modelValue",z.url),console.log("Category image uploaded successfully:",u.name);else throw new Error(z.message||"Upload failed")}catch($){console.error("Upload error:",$),w.value=null,r.value=d.modelValue||""}finally{h.value=!1}},L=()=>{w.value=null,r.value="",D("update:modelValue",""),k.value&&(k.value.value="")};return(u,$)=>(v(),F("div",qe,[s("input",{ref_key:"fileInput",ref:k,type:"file",accept:"image/*",style:{display:"none"},onChange:I},null,544),u.label?(v(),P(q,{key:0,class:"mb-2"},{default:t(()=>[f(a(u.label)+" ",1),u.required?(v(),F("span",Ae,"*")):B("",!0)]),_:1})):B("",!0),s("div",Pe,[l.value?(v(),F("div",Le,[e(re,{src:_.value,width:"80",height:"80",class:"rounded border",cover:""},null,8,["src"])])):(v(),F("div",Oe,[e(A,{icon:"tabler-photo",size:"32",color:"disabled"})])),s("div",Ee,[s("div",Ne,[e(M,{size:"small",color:"primary","prepend-icon":"tabler-upload",disabled:u.disabled||h.value,loading:h.value,onClick:S},{default:t(()=>[f(a(w.value?j(n)("common.change"):j(n)("common.upload")),1)]),_:1},8,["disabled","loading"]),l.value?(v(),P(M,{key:0,size:"small",variant:"outlined",color:"error","prepend-icon":"tabler-trash",disabled:u.disabled||h.value,onClick:L},{default:t(()=>[f(a(j(n)("common.remove")),1)]),_:1},8,["disabled"])):B("",!0)]),s("div",Qe,a(j(n)("admin_categories_image_help")),1),w.value?(v(),F("div",We,a(w.value.name),1)):B("",!0),h.value?(v(),F("div",Ge,a(j(n)("common_uploading"))+"... ",1)):B("",!0)])]),u.errorMessages&&u.errorMessages.length>0?(v(),F("div",He,[(v(!0),F(be,null,Ve(u.errorMessages,p=>(v(),F("div",{key:p},a(p),1))),128))])):B("",!0)]))}}),Ke=De(Je,[["__scopeId","data-v-c19cdedf"]]),Xe={class:"text-caption text-medium-emphasis mt-1"},Ye={class:"text-caption text-medium-emphasis mt-1"},Ze=X({__name:"CategoryCrudDialog",props:{modelValue:{type:Boolean},category:{},mode:{}},emits:["update:modelValue","saved"],setup(N,{emit:y}){const d=N,D=y,{t:n}=Y(),T=se(),{confirmCreate:k,confirmUpdate:w}=ie(),r=V({nom:"",slug:"",description:"",ordre:0,actif:!0,image_url:""}),h=V(),l=V(!1),_=x({get:()=>d.modelValue,set:o=>D("update:modelValue",o)}),S=x(()=>d.mode==="create"?n("admin_categories_create"):n("admin_categories_edit")),I=x(()=>d.mode==="create"?n("admin_categories_create"):n("admin_categories_update")),U={nom:[o=>!!o||n("validation_required",{field:n("admin_categories_name")}),o=>o&&o.length>=2||n("validation_min_length",{field:n("admin_categories_name"),min:2}),o=>o&&o.length<=100||n("validation_max_length",{field:n("admin_categories_name"),max:100})],slug:[o=>!!o||n("validation_required",{field:n("admin_categories_slug")}),o=>o&&/^[a-z0-9-_]+$/.test(o)||n("validation_slug_format")],description:[o=>!o||o.length<=500||n("validation_max_length",{field:n("admin_categories_description"),max:500})],ordre:[o=>o>=0||n("validation_min_value",{field:n("admin_categories_order"),min:0})]},L=o=>o?o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim():"",u=()=>{r.value={nom:"",slug:"",description:"",ordre:0,actif:!0,image_url:""},h.value&&h.value.resetValidation()},$=()=>{d.category&&(r.value={nom:d.category.nom,slug:d.category.slug,description:"",ordre:d.category.ordre||0,actif:d.category.actif,image_url:d.category.image_url||""})},p=async()=>{var g;if(!h.value)return;const{valid:o}=await h.value.validate();if(!(!o||!(d.mode==="create"?await k(n("category")):await w(n("category"),(g=d.category)==null?void 0:g.nom)))){l.value=!0;try{d.mode==="create"?await T.createCategory(r.value):d.category&&await T.updateCategory(d.category.id,r.value),D("saved"),_.value=!1}catch(Z){console.error("Form submission failed:",Z)}finally{l.value=!1}}},z=()=>{l.value||(_.value=!1)};return Q(()=>d.modelValue,o=>{o&&$e(()=>{d.mode==="edit"?$():u()})}),Q(()=>r.value.nom,o=>{d.mode==="create"&&o&&(r.value.slug=L(o))}),(o,b)=>(v(),P(de,{modelValue:_.value,"onUpdate:modelValue":b[6]||(b[6]=g=>_.value=g),"max-width":"600",persistent:"",scrollable:""},{default:t(()=>[e(O,null,{default:t(()=>[e(ee,{class:"d-flex align-center justify-space-between"},{default:t(()=>[s("span",null,a(S.value),1),e(M,{icon:"tabler-x",variant:"text",size:"small",onClick:z})]),_:1}),e(H),e(E,null,{default:t(()=>[e(Ue,{ref_key:"formRef",ref:h,onSubmit:xe(p,["prevent"])},{default:t(()=>[e(J,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[e(Ke,{modelValue:r.value.image_url,"onUpdate:modelValue":b[0]||(b[0]=g=>r.value.image_url=g),label:o.$t("admin_categories_image"),class:"mb-4"},null,8,["modelValue","label"])]),_:1}),e(m,{cols:"12",md:"8"},{default:t(()=>[e(K,{modelValue:r.value.nom,"onUpdate:modelValue":b[1]||(b[1]=g=>r.value.nom=g),label:o.$t("admin_categories_name"),rules:U.nom,variant:"outlined",required:"",counter:"100"},null,8,["modelValue","label","rules"])]),_:1}),e(m,{cols:"12",md:"4"},{default:t(()=>[e(K,{modelValue:r.value.ordre,"onUpdate:modelValue":b[2]||(b[2]=g=>r.value.ordre=g),modelModifiers:{number:!0},label:o.$t("admin_categories_order"),rules:U.ordre,variant:"outlined",type:"number",min:"0"},null,8,["modelValue","label","rules"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(K,{modelValue:r.value.slug,"onUpdate:modelValue":b[3]||(b[3]=g=>r.value.slug=g),label:o.$t("admin_categories_slug"),rules:U.slug,variant:"outlined",required:"",counter:"100"},null,8,["modelValue","label","rules"]),s("div",Xe,a(o.$t("admin_categories_slug_help")),1)]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(Fe,{modelValue:r.value.description,"onUpdate:modelValue":b[4]||(b[4]=g=>r.value.description=g),label:o.$t("admin_categories_description"),rules:U.description,variant:"outlined",rows:"4",counter:"500"},null,8,["modelValue","label","rules"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(Te,{modelValue:r.value.actif,"onUpdate:modelValue":b[5]||(b[5]=g=>r.value.actif=g),label:o.$t("admin_categories_status"),"true-value":!0,"false-value":!1,color:"success",inset:""},null,8,["modelValue","label"]),s("div",Ye,a(r.value.actif?o.$t("admin_categories_active_help"):o.$t("admin_categories_inactive_help")),1)]),_:1})]),_:1})]),_:1},512)]),_:1}),e(H),e(ne,{class:"justify-end gap-2"},{default:t(()=>[e(M,{variant:"outlined",onClick:z,disabled:l.value},{default:t(()=>[f(a(o.$t("common_cancel")),1)]),_:1},8,["disabled"]),e(M,{color:"primary",type:"button",loading:l.value,onClick:p},{default:t(()=>[f(a(I.value),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),et={class:"d-flex flex-column gap-6"},tt={key:0,class:"text-center"},at={class:"d-flex flex-column gap-1"},lt={class:"text-h6"},ot={class:"d-flex flex-column gap-1"},st={class:"d-flex flex-column gap-1"},it={class:"text-body-1 bg-grey-lighten-4 pa-2 rounded"},rt={class:"d-flex flex-column gap-1"},nt={class:"d-flex flex-column gap-1"},dt={class:"text-body-1"},ut={class:"d-flex flex-column gap-1"},ct={class:"text-body-2"},mt={class:"d-flex flex-column gap-1"},ft={class:"text-body-2"},gt={class:"d-flex flex-column gap-4"},_t={class:"d-flex align-center gap-2"},pt={class:"text-caption"},vt={class:"d-flex align-center gap-2"},yt={class:"text-body-2 text-medium-emphasis"},ht=X({__name:"CategoryViewDialog",props:{modelValue:{type:Boolean},category:{}},emits:["update:modelValue"],setup(N,{emit:y}){const d=N,D=y,{t:n,d:T}=Y(),k=x({get:()=>d.modelValue,set:l=>D("update:modelValue",l)}),w=x(()=>{var l;return(l=d.category)!=null&&l.actif?"success":"error"}),r=x(()=>{var l;return(l=d.category)!=null&&l.actif?n("status_active"):n("status_inactive")}),h=l=>l?T(new Date(l),"long"):n("common_not_available");return(l,_)=>(v(),P(de,{modelValue:k.value,"onUpdate:modelValue":_[2]||(_[2]=S=>k.value=S),"max-width":"600",scrollable:""},{default:t(()=>[l.category?(v(),P(O,{key:0},{default:t(()=>[e(ee,{class:"d-flex align-center justify-space-between"},{default:t(()=>[s("span",null,a(l.$t("admin_categories_view")),1),e(M,{icon:"tabler-x",variant:"text",size:"small",onClick:_[0]||(_[0]=S=>k.value=!1)})]),_:1}),e(H),e(E,null,{default:t(()=>[s("div",et,[l.category.image_url?(v(),F("div",tt,[e(re,{src:l.category.image_url,"max-width":"200","max-height":"200",class:"mx-auto rounded-lg",cover:""},null,8,["src"])])):B("",!0),e(J,null,{default:t(()=>[e(m,{cols:"12",md:"8"},{default:t(()=>[s("div",at,[e(q,{class:"text-subtitle-2 text-medium-emphasis"},{default:t(()=>[f(a(l.$t("admin_categories_name")),1)]),_:1}),s("div",lt,a(l.category.nom),1)])]),_:1}),e(m,{cols:"12",md:"4"},{default:t(()=>[s("div",ot,[e(q,{class:"text-subtitle-2 text-medium-emphasis"},{default:t(()=>[f(a(l.$t("admin_categories_order")),1)]),_:1}),e(W,{color:"primary",size:"small",variant:"tonal"},{default:t(()=>[f(a(l.category.ordre||0),1)]),_:1})])]),_:1}),e(m,{cols:"12",md:"8"},{default:t(()=>[s("div",st,[e(q,{class:"text-subtitle-2 text-medium-emphasis"},{default:t(()=>[f(a(l.$t("admin_categories_slug")),1)]),_:1}),s("code",it,a(l.category.slug),1)])]),_:1}),e(m,{cols:"12",md:"4"},{default:t(()=>[s("div",rt,[e(q,{class:"text-subtitle-2 text-medium-emphasis"},{default:t(()=>[f(a(l.$t("admin_categories_status")),1)]),_:1}),e(W,{color:w.value,size:"small",variant:"tonal"},{default:t(()=>[e(A,{icon:l.category.actif?"tabler-check":"tabler-x",start:""},null,8,["icon"]),f(" "+a(r.value),1)]),_:1},8,["color"])])]),_:1}),l.category.description?(v(),P(m,{key:0,cols:"12"},{default:t(()=>[s("div",nt,[e(q,{class:"text-subtitle-2 text-medium-emphasis"},{default:t(()=>[f(a(l.$t("admin_categories_description")),1)]),_:1}),s("div",dt,a(l.category.description),1)])]),_:1})):B("",!0),e(m,{cols:"12",md:"6"},{default:t(()=>[s("div",ut,[e(q,{class:"text-subtitle-2 text-medium-emphasis"},{default:t(()=>[f(a(l.$t("common_created_at")),1)]),_:1}),s("div",ct,a(h(l.category.created_at)),1)])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[s("div",mt,[e(q,{class:"text-subtitle-2 text-medium-emphasis"},{default:t(()=>[f(a(l.$t("common_updated_at")),1)]),_:1}),s("div",ft,a(h(l.category.updated_at)),1)])]),_:1})]),_:1}),e(H),s("div",gt,[e(q,{class:"text-subtitle-1"},{default:t(()=>[f(a(l.$t("admin_categories_additional_info")),1)]),_:1}),e(J,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[s("div",_t,[e(A,{icon:"tabler-id",size:"16",class:"text-medium-emphasis"}),_[3]||(_[3]=s("span",{class:"text-body-2 text-medium-emphasis"},"ID:",-1)),s("code",pt,a(l.category.id),1)])]),_:1}),l.category.products_count!==void 0?(v(),P(m,{key:0,cols:"12",md:"6"},{default:t(()=>[s("div",vt,[e(A,{icon:"tabler-package",size:"16",class:"text-medium-emphasis"}),s("span",yt,a(l.$t("admin_categories_products_count"))+":",1),e(W,{size:"x-small",color:"info",variant:"tonal"},{default:t(()=>[f(a(l.category.products_count),1)]),_:1})])]),_:1})):B("",!0)]),_:1})])])]),_:1}),e(H),e(ne,{class:"justify-end"},{default:t(()=>[e(M,{variant:"outlined",onClick:_[1]||(_[1]=S=>k.value=!1)},{default:t(()=>[f(a(l.$t("common_close")),1)]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1},8,["modelValue"]))}}),bt={class:"d-flex flex-column gap-6"},Vt={class:"text-h4 font-weight-bold"},xt={class:"text-body-2 text-medium-emphasis"},$t={class:"text-h4 font-weight-bold text-success"},Ct={class:"text-body-2 text-medium-emphasis"},kt={class:"text-h4 font-weight-bold text-error"},wt={class:"text-body-2 text-medium-emphasis"},St={class:"text-h4 font-weight-bold"},zt={class:"text-body-2 text-medium-emphasis"},Dt={class:"d-flex align-center gap-3"},Ut={class:"font-weight-medium"},Ft={class:"text-caption text-medium-emphasis"},ha=X({__name:"categories",setup(N){const{t:y}=Y(),d=oe(),D=se(),{confirmDelete:n}=ie(),{filter:T,getQueryParams:k,getStatusColor:w,getStatusText:r}=Ie(()=>R(),i=>console.error("Soft delete error:",i)),{categories:h,loading:l}=Ce(D),_=V(""),S=V(""),I=V("ordre"),U=V(!1),L=V(!1),u=V(!1),$=V(null),p=V("create");V(!1);let z=null;const o=i=>{z&&clearTimeout(z),z=setTimeout(()=>{_.value=i},300)},b=x(()=>[{title:y("title_admin_dashboard"),to:"/admin"},{title:y("admin_categories_title"),active:!0}]),g=x(()=>D.pagination.total),Z=x(()=>h.value.filter(i=>i.actif).length),ue=x(()=>h.value.filter(i=>!i.actif).length),ce=x(()=>[{title:y("admin_categories_order"),key:"ordre",align:"center",width:80},{title:y("admin_categories_name"),key:"nom",sortable:!0},{title:y("admin_categories_slug"),key:"slug"},{title:y("admin_categories_status"),key:"actif",align:"center",width:120},{title:y("record_status"),key:"record_status",align:"center",width:120},{title:y("common_actions"),key:"actions",align:"center",width:120,sortable:!1}]),me=x(()=>[{title:y("status_active"),value:"true"},{title:y("status_inactive"),value:"false"}]),fe=x(()=>[{title:y("admin_categories_order"),value:"ordre"},{title:y("admin_categories_name"),value:"nom"},{title:y("common_created_at"),value:"created_at"}]),R=async()=>{await D.fetchCategories({search:_.value||void 0,status:S.value||void 0,sort_by:I.value,sort_direction:U.value?"desc":"asc",per_page:15,...k()})},G=()=>{R()},ge=()=>{_.value="",S.value="",I.value="ordre",U.value=!1,R()},te=()=>{$.value=null,p.value="create",L.value=!0},_e=i=>{$.value=i,p.value="edit",L.value=!0},pe=i=>{$.value=i,u.value=!0},ve=()=>{R()},ye=async i=>{try{await D.toggleCategoryStatus(i.id)}catch(C){console.error("Status toggle failed:",C)}};return Q([_,S],()=>{G()}),Q([I,U],()=>{G()}),ke(()=>{if(d.isInitialized)R();else{const i=Q(()=>d.isInitialized,C=>{C&&(R(),i())})}}),(i,C)=>(v(),F("div",bt,[e(ze,{items:b.value},null,8,["items"]),e(J,null,{default:t(()=>[e(m,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(O,{class:"text-center"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{icon:"tabler-category",size:"48",class:"mb-4 text-primary"}),s("div",Vt,a(g.value),1),s("div",xt,a(i.$t("admin_categories_total")),1)]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(O,{class:"text-center"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{icon:"tabler-check",size:"48",class:"mb-4 text-success"}),s("div",$t,a(Z.value),1),s("div",Ct,a(i.$t("admin_categories_active")),1)]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(O,{class:"text-center"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{icon:"tabler-x",size:"48",class:"mb-4 text-error"}),s("div",kt,a(ue.value),1),s("div",wt,a(i.$t("admin_categories_inactive")),1)]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(O,{class:"text-center"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{icon:"tabler-plus",size:"48",class:"mb-4 text-info"}),s("div",St,[e(M,{color:"primary",size:"small",onClick:te},{default:t(()=>[f(a(i.$t("admin_categories_create")),1)]),_:1})]),s("div",zt,a(i.$t("admin_categories_add_new")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(O,null,{default:t(()=>[e(ee,{class:"d-flex align-center justify-space-between"},{default:t(()=>[s("span",null,a(i.$t("admin_categories_list")),1),e(M,{color:"primary","prepend-icon":"tabler-plus",onClick:te},{default:t(()=>[f(a(i.$t("admin_categories_create")),1)]),_:1})]),_:1}),e(E,null,{default:t(()=>[e(J,{class:"mb-6"},{default:t(()=>[e(m,{cols:"12",md:"3"},{default:t(()=>[e(K,{label:i.$t("common_search"),"prepend-inner-icon":"tabler-search",clearable:"",variant:"outlined",density:"compact",onInput:o},null,8,["label"])]),_:1}),e(m,{cols:"12",md:"2"},{default:t(()=>[e(ae,{modelValue:S.value,"onUpdate:modelValue":[C[0]||(C[0]=c=>S.value=c),G],items:me.value,label:i.$t("admin_categories_status"),variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","label"])]),_:1}),e(m,{cols:"12",md:"2"},{default:t(()=>[e(je,{modelValue:j(T),"onUpdate:modelValue":[C[1]||(C[1]=c=>we(T)?T.value=c:null),G]},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"3"},{default:t(()=>[e(ae,{modelValue:I.value,"onUpdate:modelValue":[C[2]||(C[2]=c=>I.value=c),G],items:fe.value,label:i.$t("common_sort_by"),variant:"outlined",density:"compact"},null,8,["modelValue","items","label"])]),_:1}),e(m,{cols:"12",md:"2"},{default:t(()=>[e(M,{variant:"outlined",color:"secondary",onClick:ge},{default:t(()=>[f(a(i.$t("common_reset")),1)]),_:1})]),_:1})]),_:1}),e(Me,{headers:ce.value,items:j(h),loading:j(l),"no-data-text":i.$t("common_no_data"),"loading-text":i.$t("common_loading"),"items-per-page":15,"sort-by":[{key:I.value,order:U.value?"desc":"asc"}],class:"elevation-1","item-value":"id"},{"item.ordre":t(({item:c})=>[e(W,{size:"small",color:"primary",variant:"tonal"},{default:t(()=>[f(a(c.ordre||0),1)]),_:2},1024)]),"item.nom":t(({item:c})=>[s("div",Dt,[c.image_url?(v(),P(le,{key:0,image:c.image_url,size:"32",rounded:""},null,8,["image"])):(v(),P(le,{key:1,size:"32",color:"secondary",variant:"tonal"},{default:t(()=>[e(A,{icon:"tabler-category"})]),_:1})),s("div",null,[s("div",Ut,a(c.nom),1),s("div",Ft,a(c.slug),1)])])]),"item.actif":t(({item:c})=>[e(Re,null,{activator:t(({props:he})=>[e(W,Se(he,{color:c.actif?"success":"error",size:"small",variant:"tonal",onClick:Tt=>ye(c),class:"cursor-pointer"}),{default:t(()=>[f(a(c.actif?i.$t("status_active"):i.$t("status_inactive")),1)]),_:2},1040,["color","onClick"])]),default:t(()=>[s("span",null,a(i.$t("common_click_to_toggle")),1)]),_:2},1024)]),"item.record_status":t(({item:c})=>[e(W,{color:j(w)(c),size:"small",variant:"elevated"},{default:t(()=>[f(a(j(r)(c)),1)]),_:2},1032,["color"])]),"item.actions":t(({item:c})=>[e(Be,{item:c,"entity-name":"category","api-endpoint":"/admin/categories","item-name-field":"nom",onDeleted:R,onRestored:R,onPermanentlyDeleted:R,onEdit:_e,onView:pe},null,8,["item"])]),_:2},1032,["headers","items","loading","no-data-text","loading-text","sort-by"])]),_:1})]),_:1}),e(Ze,{modelValue:L.value,"onUpdate:modelValue":C[3]||(C[3]=c=>L.value=c),category:$.value,mode:p.value,onSaved:ve},null,8,["modelValue","category","mode"]),e(ht,{modelValue:u.value,"onUpdate:modelValue":C[4]||(C[4]=c=>u.value=c),category:$.value},null,8,["modelValue","category"])]))}});export{ha as default};
