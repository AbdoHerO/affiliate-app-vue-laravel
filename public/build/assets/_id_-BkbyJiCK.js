import{d as B,aL as A,r as k,o as D,c as d,f as e,h as m,e as n,v as s,n as a,g as i,ac as V,b6 as I,u as R,k as z,b as l,t as u,az as g,aU as L,m as p}from"./main-DnYrbSQO.js";import{V as f}from"./VCard-om2cqSxr.js";import{V as h}from"./VCardText-ByjN3mlm.js";import{V as S,a as C}from"./VRow-B-6WkvV7.js";import"./createSimpleFunctional-D0EIrpo1.js";import"./VAvatar-BwJp41ss.js";import"./VImg-CrKU03S9.js";/* empty css              */const T={class:"d-flex justify-space-between align-center mb-6"},j={class:"text-h4 mb-1"},E={class:"text-body-1 mb-0"},F={class:"mt-4 mb-0"},M={class:"text-h6 mb-4"},P={class:"mb-4"},U={class:"text-sm text-medium-emphasis"},$={class:"text-body-1 mb-0"},q={class:"mb-4"},G={class:"text-sm text-medium-emphasis"},H={class:"text-h6 mb-0 text-primary"},J={class:"mb-4"},K={class:"text-sm text-medium-emphasis"},O={class:"text-body-1 mb-0"},Q={class:"mb-4"},W={class:"text-sm text-medium-emphasis"},X={class:"text-body-1 mb-0"},Y={class:"text-h6 mb-4"},Z={key:0,class:"mb-4"},ee={class:"text-sm text-medium-emphasis"},se={class:"text-body-1 mb-0"},te={key:1,class:"mb-4"},ae={class:"text-sm text-medium-emphasis"},oe={class:"text-body-1 mb-0"},ie={key:2,class:"mb-4"},ne={class:"text-sm text-medium-emphasis"},ce={class:"text-body-1 mb-0"},le={class:"text-h6 mb-2"},de={class:"text-body-1 mb-4"},ve=B({__name:"[id]",setup(re){const{t}=A(),w=R(),b=z(),r=k(!1),o=k(null),N=async()=>{var _;r.value=!0;try{const c=await I.get(`/admin/referrals/dispensations/${w.params.id}`);c.data.success&&(o.value=c.data.data)}catch(c){console.error("Failed to fetch dispensation:",c),((_=c.response)==null?void 0:_.status)===404&&b.push({name:"admin-referrals-dispensations"})}finally{r.value=!1}},x=()=>{b.push({name:"admin-referrals-dispensations"})};return D(()=>{N()}),(_,c)=>(l(),d("div",null,[e("div",T,[e("div",null,[e("h4",j,s(a(t)("dispensation_details")),1),e("p",E,s(a(t)("view_dispensation_details")),1)]),n(V,{variant:"outlined",onClick:x},{default:i(()=>[n(g,{start:"",icon:"tabler-arrow-left"}),u(" "+s(a(t)("back")),1)]),_:1})]),r.value?(l(),m(f,{key:0},{default:i(()=>[n(h,{class:"text-center py-8"},{default:i(()=>[n(L,{indeterminate:""}),e("p",F,s(a(t)("loading"))+"...",1)]),_:1})]),_:1})):o.value?(l(),m(f,{key:1},{default:i(()=>[n(h,null,{default:i(()=>[n(S,null,{default:i(()=>[n(C,{cols:"12",md:"6"},{default:i(()=>[e("h6",M,s(a(t)("dispensation_information")),1),e("div",P,[e("span",U,s(a(t)("reference"))+":",1),e("p",$,s(o.value.reference),1)]),e("div",q,[e("span",G,s(a(t)("points"))+":",1),e("p",H,s(o.value.points),1)]),e("div",J,[e("span",K,s(a(t)("comment"))+":",1),e("p",O,s(o.value.comment),1)]),e("div",Q,[e("span",W,s(a(t)("created_at"))+":",1),e("p",X,s(new Date(o.value.created_at).toLocaleString()),1)])]),_:1}),n(C,{cols:"12",md:"6"},{default:i(()=>{var v,y;return[e("h6",Y,s(a(t)("affiliate_information")),1),o.value.referrer_affiliate?(l(),d("div",Z,[e("span",ee,s(a(t)("affiliate_name"))+":",1),e("p",se,s(((v=o.value.referrer_affiliate.utilisateur)==null?void 0:v.nom_complet)||"N/A"),1)])):p("",!0),o.value.referrer_affiliate?(l(),d("div",te,[e("span",ae,s(a(t)("affiliate_email"))+":",1),e("p",oe,s(((y=o.value.referrer_affiliate.utilisateur)==null?void 0:y.email)||"N/A"),1)])):p("",!0),o.value.created_by_admin?(l(),d("div",ie,[e("span",ne,s(a(t)("created_by"))+":",1),e("p",ce,s(o.value.created_by_admin.nom_complet||"N/A"),1)])):p("",!0)]}),_:1})]),_:1})]),_:1})]),_:1})):(l(),m(f,{key:2},{default:i(()=>[n(h,{class:"text-center py-8"},{default:i(()=>[n(g,{size:"64",color:"error",class:"mb-4"},{default:i(()=>c[0]||(c[0]=[u("tabler-alert-circle")])),_:1,__:[0]}),e("h6",le,s(a(t)("dispensation_not_found")),1),e("p",de,s(a(t)("dispensation_not_found_message")),1),n(V,{onClick:x},{default:i(()=>[u(s(a(t)("back_to_dispensations")),1)]),_:1})]),_:1})]),_:1}))]))}});export{ve as default};
