import{u as B}from"./useAuth-CtoFjAb0.js";import{g as w}from"./imageUtils-CDpwA2VM.js";import{V as I}from"./VBadge-C2esTGRG.js";import{V as L}from"./VImg-BS6_svHJ.js";import{V as P}from"./VMenu-DP1p-55V.js";import{V as N,a as c,b as u,d as T}from"./VList-uZDByhc2.js";import{aj as U,Z as j,a2 as D,b as t,aZ as R,a4 as S,d as Z,aL as q,V as F,g as _,l as M,m as o,o as v,f as e,s as n,t as i,az as d}from"./main-uLG9IIeX.js";import{V as A}from"./VAvatar-bHPDEsYY.js";import{V as x}from"./VDivider-UqGR4x4D.js";const E=j({start:Boolean,end:Boolean,...S(),...R()},"VListItemAction"),G=U()({name:"VListItemAction",props:E(),setup(m,a){let{slots:p}=a;return D(()=>t(m.tag,{class:["v-list-item-action",{"v-list-item-action--start":m.start,"v-list-item-action--end":m.end},m.class],style:m.style},p)),{}}}),ot=Z({__name:"UserProfile",setup(m){const{user:a,isAuthenticated:p,logout:z}=B(),{t:l}=q(),V=F(()=>a.value?w(a.value.photo_profil):null),C=async()=>{await z()};return(H,J)=>o(p)&&o(a)?(v(),_(I,{key:0,dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:e(()=>{var g,h,y,b;return[t(A,{class:"cursor-pointer",color:(h=(g=o(a))==null?void 0:g.value)!=null&&h.photo_profil?void 0:"primary",variant:(b=(y=o(a))==null?void 0:y.value)!=null&&b.photo_profil?void 0:"tonal"},{default:e(()=>[t(L,{src:V.value},null,8,["src"]),t(P,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:e(()=>[t(N,null,{default:e(()=>[t(c,null,{prepend:e(()=>[t(G,{start:""},{default:e(()=>[t(I,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:e(()=>{var s,r,f,k;return[t(A,{color:(r=(s=o(a))==null?void 0:s.value)!=null&&r.photo_profil?void 0:"primary",variant:(k=(f=o(a))==null?void 0:f.value)!=null&&k.photo_profil?void 0:"tonal"},{default:e(()=>[t(L,{src:V.value},null,8,["src"])]),_:1},8,["color","variant"])]}),_:1})]),_:1})]),default:e(()=>[t(u,{class:"font-weight-semibold"},{default:e(()=>{var s,r;return[n(i(((r=(s=o(a))==null?void 0:s.value)==null?void 0:r.nom_complet)||o(l)("common.guest")),1)]}),_:1}),t(T,null,{default:e(()=>{var s,r,f;return[n(i(((f=(r=(s=o(a))==null?void 0:s.value)==null?void 0:r.roles)==null?void 0:f.join(", "))||o(l)("common.noRole")),1)]}),_:1})]),_:1}),t(x,{class:"my-2"}),t(c,{link:"",to:"/profile"},{prepend:e(()=>[t(d,{class:"me-2",icon:"tabler-user",size:"22"})]),default:e(()=>[t(u,null,{default:e(()=>[n(i(o(l)("profile")),1)]),_:1})]),_:1}),t(c,{link:""},{prepend:e(()=>[t(d,{class:"me-2",icon:"tabler-settings",size:"22"})]),default:e(()=>[t(u,null,{default:e(()=>[n(i(o(l)("settings")),1)]),_:1})]),_:1}),t(c,{link:""},{prepend:e(()=>[t(d,{class:"me-2",icon:"tabler-currency-dollar",size:"22"})]),default:e(()=>[t(u,null,{default:e(()=>[n(i(o(l)("pricing")),1)]),_:1})]),_:1}),t(c,{link:""},{prepend:e(()=>[t(d,{class:"me-2",icon:"tabler-help",size:"22"})]),default:e(()=>[t(u,null,{default:e(()=>[n(i(o(l)("faq")),1)]),_:1})]),_:1}),t(x,{class:"my-2"}),o(p)?(v(),_(c,{key:0,onClick:C},{prepend:e(()=>[t(d,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:e(()=>[t(u,null,{default:e(()=>[n(i(o(l)("logout")),1)]),_:1})]),_:1})):(v(),_(c,{key:1,to:"/login"},{prepend:e(()=>[t(d,{class:"me-2",icon:"tabler-login",size:"22"})]),default:e(()=>[t(u,null,{default:e(()=>[n(i(o(l)("login")),1)]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1},8,["color","variant"])]}),_:1})):M("",!0)}});export{ot as _};
