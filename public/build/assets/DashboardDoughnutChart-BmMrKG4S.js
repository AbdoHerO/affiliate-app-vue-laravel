import{C as b,A as m,c as v,d as _,D as y}from"./index-DSkGC4vQ.js";import{d as C,V as d,c,b as p,f as i,e as k,m as S,n as B,v as D}from"./main-0h7RfoM1.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"dashboard-doughnut-chart"},L={class:"chart-container"},w={key:0,class:"chart-center-text"},R={class:"total-value"},$=C({__name:"DashboardDoughnutChart",props:{data:{},title:{default:""},height:{default:400},responsive:{type:Boolean,default:!0},maintainAspectRatio:{type:Boolean,default:!1},showLegend:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!0},cutout:{default:"60%"},borderWidth:{default:2}},setup(h){b.register(m,v,_);const t=h,f=d(()=>({labels:t.data.labels,datasets:t.data.datasets.map(e=>({...e,borderWidth:t.borderWidth,borderColor:"#fff",hoverBorderWidth:3,hoverOffset:4}))})),g=d(()=>({responsive:t.responsive,maintainAspectRatio:t.maintainAspectRatio,cutout:t.cutout,plugins:{title:{display:!!t.title,text:t.title,font:{size:16,weight:"bold"},padding:{bottom:20}},legend:{display:t.showLegend,position:"bottom",labels:{usePointStyle:!0,padding:20,font:{size:12},generateLabels:e=>{const a=e.data;return a.labels&&a.datasets.length?a.labels.map((r,s)=>{const o=a.datasets[0],n=o.data[s],l=Array.isArray(o.backgroundColor)?o.backgroundColor[s]:o.backgroundColor;return{text:`${r}: ${n.toLocaleString()}`,fillStyle:l,strokeStyle:l,lineWidth:0,pointStyle:"circle",hidden:!1,index:s}}):[]}}},tooltip:{enabled:t.showTooltip,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,padding:12,displayColors:!0,callbacks:{label:e=>{const a=e.label||"",r=e.parsed,s=e.dataset.data.reduce((n,l)=>n+l,0),o=(r/s*100).toFixed(1);return`${a}: ${r.toLocaleString()} (${o}%)`}}}},animation:{animateRotate:!0,animateScale:!0,duration:1e3,easing:"easeInOutQuart"},elements:{arc:{borderWidth:t.borderWidth}}})),u=d(()=>t.data.datasets.length>0?t.data.datasets[0].data.reduce((e,a)=>e+a,0):0);return(e,a)=>(p(),c("div",A,[i("div",L,[k(B(y),{data:f.value,options:g.value,height:e.height},null,8,["data","options","height"]),e.cutout&&u.value>0?(p(),c("div",w,[i("div",R,D(u.value.toLocaleString()),1),a[0]||(a[0]=i("div",{class:"total-label"}," Total ",-1))])):S("",!0)])]))}}),O=W($,[["__scopeId","data-v-743244f7"]]);export{O as default};
